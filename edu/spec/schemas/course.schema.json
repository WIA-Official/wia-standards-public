{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://wia.live/schemas/edu/course.schema.json",
  "title": "WIA Education Course",
  "description": "Course structure with accessibility metadata following UDL principles",
  "type": "object",
  "required": ["course_id", "schema_version", "title", "created_at"],
  "properties": {
    "course_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the course"
    },
    "schema_version": {
      "type": "string",
      "const": "1.0.0",
      "description": "Schema version for compatibility"
    },
    "title": {
      "type": "string",
      "minLength": 1,
      "description": "Course title"
    },
    "description": {
      "type": "string",
      "description": "Course description"
    },
    "created_at": {
      "type": "string",
      "format": "date-time"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time"
    },
    "course_info": {
      "$ref": "#/$defs/CourseInfo"
    },
    "accessibility_statement": {
      "$ref": "#/$defs/AccessibilityStatement"
    },
    "modules": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Module"
      }
    },
    "learning_outcomes": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/LearningOutcome"
      }
    },
    "accessibility_features": {
      "$ref": "#/$defs/CourseAccessibilityFeatures"
    },
    "accommodations_available": {
      "$ref": "#/$defs/AvailableAccommodations"
    },
    "metadata": {
      "type": "object",
      "additionalProperties": true
    }
  },
  "$defs": {
    "CourseInfo": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "Course code (e.g., 'CS101')"
        },
        "institution": {
          "type": "string"
        },
        "instructor": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "office_hours": {
              "type": "string"
            }
          }
        },
        "language": {
          "type": "string",
          "pattern": "^[a-z]{2}(-[A-Z]{2})?$"
        },
        "duration": {
          "type": "object",
          "properties": {
            "weeks": {
              "type": "integer",
              "minimum": 1
            },
            "hours_per_week": {
              "type": "number",
              "minimum": 0
            }
          }
        },
        "level": {
          "type": "string",
          "enum": ["beginner", "intermediate", "advanced", "expert"]
        },
        "prerequisites": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AccessibilityStatement": {
      "type": "object",
      "description": "Course accessibility commitment and information",
      "properties": {
        "commitment": {
          "type": "string",
          "description": "Accessibility commitment statement"
        },
        "wcag_conformance": {
          "type": "string",
          "enum": ["none", "A", "AA", "AAA"],
          "description": "WCAG conformance level"
        },
        "conformance_date": {
          "type": "string",
          "format": "date"
        },
        "known_issues": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "description": {
                "type": "string"
              },
              "impact": {
                "type": "string",
                "enum": ["low", "medium", "high"]
              },
              "workaround": {
                "type": "string"
              },
              "planned_fix_date": {
                "type": "string",
                "format": "date"
              }
            }
          }
        },
        "contact": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "phone": {
              "type": "string"
            }
          }
        },
        "accommodation_request_process": {
          "type": "string",
          "description": "How to request accommodations"
        }
      }
    },
    "Module": {
      "type": "object",
      "description": "Course module/unit",
      "required": ["module_id", "title", "sequence"],
      "properties": {
        "module_id": {
          "type": "string",
          "format": "uuid"
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "sequence": {
          "type": "integer",
          "minimum": 1
        },
        "duration_minutes": {
          "type": "integer",
          "minimum": 0
        },
        "learning_objectives": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "content_items": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/ContentItem"
          }
        },
        "assessments": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid",
            "description": "Assessment IDs"
          }
        },
        "udl_options": {
          "$ref": "#/$defs/UDLOptions"
        },
        "prerequisites_modules": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          }
        }
      }
    },
    "ContentItem": {
      "type": "object",
      "required": ["content_id", "type", "title"],
      "properties": {
        "content_id": {
          "type": "string",
          "format": "uuid"
        },
        "type": {
          "type": "string",
          "enum": ["text", "video", "audio", "image", "document", "interactive", "simulation", "external_link", "discussion", "live_session"]
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "sequence": {
          "type": "integer",
          "minimum": 1
        },
        "required": {
          "type": "boolean",
          "default": true
        },
        "duration_minutes": {
          "type": "integer",
          "minimum": 0
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "accessibility_metadata": {
          "$ref": "#/$defs/ContentAccessibility"
        },
        "alternatives": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["transcript", "captions", "audio_description", "sign_language", "simplified", "braille", "large_print"]
              },
              "url": {
                "type": "string",
                "format": "uri"
              },
              "language": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "ContentAccessibility": {
      "type": "object",
      "description": "Accessibility metadata for content item",
      "properties": {
        "has_captions": {
          "type": "boolean"
        },
        "has_transcript": {
          "type": "boolean"
        },
        "has_audio_description": {
          "type": "boolean"
        },
        "has_sign_language": {
          "type": "boolean"
        },
        "alt_text_provided": {
          "type": "boolean"
        },
        "keyboard_accessible": {
          "type": "boolean"
        },
        "screen_reader_compatible": {
          "type": "boolean"
        },
        "color_independent": {
          "type": "boolean",
          "description": "Does not rely on color alone to convey meaning"
        },
        "no_flashing": {
          "type": "boolean",
          "description": "No content that flashes more than 3 times per second"
        },
        "reading_level": {
          "type": "string",
          "enum": ["easy", "standard", "advanced"]
        },
        "hazards": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["flashing", "motion", "sound", "none"]
          }
        },
        "accessibility_features": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "alternative_text",
              "audio_description",
              "captions",
              "described_math",
              "long_description",
              "sign_language",
              "transcript",
              "tactile_object",
              "high_contrast",
              "large_print",
              "readable_fonts",
              "structured_navigation"
            ]
          }
        },
        "accessibility_api": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["aria", "ios_accessibility", "android_accessibility", "macos_accessibility", "windows_ui_automation"]
          }
        }
      }
    },
    "UDLOptions": {
      "type": "object",
      "description": "Universal Design for Learning options for the module",
      "properties": {
        "engagement_options": {
          "type": "object",
          "description": "Multiple means of engagement",
          "properties": {
            "choice_available": {
              "type": "boolean",
              "description": "Learners can choose their path"
            },
            "relevance_connections": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Real-world connections provided"
            },
            "collaboration_options": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["individual", "pairs", "small_group", "large_group", "peer_review"]
              }
            },
            "self_regulation_tools": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["goal_setting", "progress_tracking", "reflection_prompts", "self_assessment", "checklists"]
              }
            }
          }
        },
        "representation_options": {
          "type": "object",
          "description": "Multiple means of representation",
          "properties": {
            "modalities_available": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["text", "audio", "video", "graphics", "interactive", "hands_on"]
              }
            },
            "language_supports": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["glossary", "definitions", "translations", "simplified_language"]
              }
            },
            "comprehension_supports": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["summaries", "outlines", "concept_maps", "examples", "non_examples", "analogies"]
              }
            }
          }
        },
        "action_expression_options": {
          "type": "object",
          "description": "Multiple means of action and expression",
          "properties": {
            "response_formats": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["written", "verbal", "visual", "multimedia", "demonstration", "portfolio"]
              }
            },
            "tools_available": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["spell_check", "grammar_check", "calculator", "drawing_tools", "recording", "assistive_tech"]
              }
            },
            "scaffolding": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["templates", "graphic_organizers", "sentence_starters", "rubrics", "exemplars"]
              }
            }
          }
        }
      }
    },
    "LearningOutcome": {
      "type": "object",
      "required": ["outcome_id", "description"],
      "properties": {
        "outcome_id": {
          "type": "string",
          "format": "uuid"
        },
        "description": {
          "type": "string"
        },
        "bloom_level": {
          "type": "string",
          "enum": ["remember", "understand", "apply", "analyze", "evaluate", "create"],
          "description": "Bloom's Taxonomy level"
        },
        "assessment_methods": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "related_modules": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          }
        }
      }
    },
    "CourseAccessibilityFeatures": {
      "type": "object",
      "description": "Overall accessibility features of the course",
      "properties": {
        "lms_platform": {
          "type": "string",
          "description": "Learning Management System used"
        },
        "lms_accessibility_vpat": {
          "type": "string",
          "format": "uri",
          "description": "URL to LMS VPAT/accessibility statement"
        },
        "features": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "keyboard_navigation",
              "screen_reader_support",
              "captions_all_videos",
              "transcripts_all_audio",
              "audio_descriptions",
              "adjustable_text_size",
              "high_contrast_mode",
              "reading_order_logical",
              "forms_accessible",
              "tables_accessible",
              "math_accessible",
              "mobile_responsive",
              "offline_access",
              "downloadable_content"
            ]
          }
        },
        "third_party_tools": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "purpose": {
                "type": "string"
              },
              "accessibility_info": {
                "type": "string",
                "format": "uri"
              },
              "known_issues": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "AvailableAccommodations": {
      "type": "object",
      "description": "Accommodations available for this course",
      "properties": {
        "timing": {
          "type": "object",
          "properties": {
            "extended_time": {
              "type": "boolean",
              "default": true
            },
            "flexible_deadlines": {
              "type": "boolean",
              "default": true
            },
            "breaks": {
              "type": "boolean",
              "default": true
            }
          }
        },
        "format": {
          "type": "object",
          "properties": {
            "alternative_formats": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["large_print", "braille", "audio", "digital", "simplified"]
              }
            },
            "alternative_assessments": {
              "type": "boolean",
              "default": false
            }
          }
        },
        "support": {
          "type": "object",
          "properties": {
            "note_taking": {
              "type": "boolean"
            },
            "captioning_live": {
              "type": "boolean"
            },
            "sign_language_interpreter": {
              "type": "boolean"
            },
            "assistive_technology": {
              "type": "boolean"
            },
            "one_on_one_support": {
              "type": "boolean"
            }
          }
        },
        "request_deadline": {
          "type": "string",
          "description": "When accommodation requests must be submitted"
        },
        "request_url": {
          "type": "string",
          "format": "uri"
        }
      }
    }
  },
  "examples": [
    {
      "course_id": "660e8400-e29b-41d4-a716-446655440001",
      "schema_version": "1.0.0",
      "title": "Introduction to Computer Science",
      "description": "Foundational concepts in computing",
      "created_at": "2025-01-01T00:00:00Z",
      "course_info": {
        "code": "CS101",
        "institution": "WIA University",
        "language": "en",
        "level": "beginner"
      },
      "accessibility_statement": {
        "commitment": "We are committed to making this course accessible to all learners.",
        "wcag_conformance": "AA",
        "conformance_date": "2025-01-01"
      },
      "accessibility_features": {
        "features": [
          "keyboard_navigation",
          "screen_reader_support",
          "captions_all_videos",
          "transcripts_all_audio"
        ]
      }
    }
  ]
}
