{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://wia.live/schemas/edu/learner-profile.schema.json",
  "title": "WIA Education Learner Profile",
  "description": "Learner accessibility profile following AccessForAll and UDL principles",
  "type": "object",
  "required": ["profile_id", "schema_version", "created_at"],
  "properties": {
    "profile_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the learner profile"
    },
    "schema_version": {
      "type": "string",
      "const": "1.0.0",
      "description": "Schema version for compatibility"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Profile creation timestamp"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp"
    },
    "learner_info": {
      "$ref": "#/$defs/LearnerInfo"
    },
    "disability_profile": {
      "$ref": "#/$defs/DisabilityProfile"
    },
    "display_preferences": {
      "$ref": "#/$defs/DisplayPreferences"
    },
    "control_preferences": {
      "$ref": "#/$defs/ControlPreferences"
    },
    "content_preferences": {
      "$ref": "#/$defs/ContentPreferences"
    },
    "learning_style": {
      "$ref": "#/$defs/LearningStyle"
    },
    "assessment_accommodations": {
      "$ref": "#/$defs/AssessmentAccommodations"
    },
    "assistive_technology": {
      "$ref": "#/$defs/AssistiveTechnology"
    },
    "wia_integrations": {
      "$ref": "#/$defs/WIAIntegrations"
    },
    "metadata": {
      "type": "object",
      "description": "Additional custom metadata",
      "additionalProperties": true
    }
  },
  "$defs": {
    "LearnerInfo": {
      "type": "object",
      "description": "Basic learner information",
      "properties": {
        "display_name": {
          "type": "string",
          "description": "Preferred display name"
        },
        "preferred_language": {
          "type": "string",
          "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
          "description": "ISO 639-1 language code (e.g., 'en', 'ko', 'en-US')"
        },
        "secondary_languages": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-z]{2}(-[A-Z]{2})?$"
          },
          "description": "Additional languages understood"
        },
        "age_group": {
          "type": "string",
          "enum": ["child", "teen", "adult", "senior"],
          "description": "Age category for content appropriateness"
        },
        "education_level": {
          "type": "string",
          "enum": ["elementary", "middle_school", "high_school", "undergraduate", "graduate", "professional", "lifelong_learner"],
          "description": "Current education level"
        }
      }
    },
    "DisabilityProfile": {
      "type": "object",
      "description": "Disability-related accessibility needs",
      "properties": {
        "disclosed": {
          "type": "boolean",
          "default": false,
          "description": "Whether the learner has chosen to disclose disabilities"
        },
        "disability_types": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "blind",
              "low_vision",
              "color_blind",
              "deaf",
              "hard_of_hearing",
              "deafblind",
              "motor_impairment",
              "limited_dexterity",
              "tremor",
              "dyslexia",
              "dyscalculia",
              "dysgraphia",
              "adhd",
              "autism",
              "cognitive",
              "intellectual",
              "memory",
              "anxiety",
              "chronic_illness",
              "temporary_disability",
              "situational",
              "other"
            ]
          },
          "description": "Types of disabilities or conditions"
        },
        "notes": {
          "type": "string",
          "description": "Additional context about accessibility needs"
        }
      }
    },
    "DisplayPreferences": {
      "type": "object",
      "description": "Visual and display preferences (AccessForAll Display category)",
      "properties": {
        "screen_reader": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "preferred_reader": {
              "type": "string",
              "enum": ["jaws", "nvda", "voiceover", "talkback", "narrator", "orca", "other"]
            },
            "speech_rate": {
              "type": "number",
              "minimum": 0.5,
              "maximum": 3.0,
              "default": 1.0
            },
            "verbosity": {
              "type": "string",
              "enum": ["minimal", "normal", "verbose"]
            }
          }
        },
        "magnification": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "level": {
              "type": "number",
              "minimum": 1.0,
              "maximum": 10.0,
              "default": 1.0
            },
            "follow_focus": {
              "type": "boolean",
              "default": true
            }
          }
        },
        "text_settings": {
          "type": "object",
          "properties": {
            "font_size": {
              "type": "string",
              "enum": ["small", "medium", "large", "x-large", "xx-large"],
              "default": "medium"
            },
            "font_family": {
              "type": "string",
              "enum": ["system", "serif", "sans-serif", "monospace", "dyslexie", "opendyslexic", "custom"]
            },
            "custom_font": {
              "type": "string",
              "description": "Custom font name if font_family is 'custom'"
            },
            "line_spacing": {
              "type": "number",
              "minimum": 1.0,
              "maximum": 3.0,
              "default": 1.5
            },
            "letter_spacing": {
              "type": "string",
              "enum": ["normal", "wide", "wider"],
              "default": "normal"
            },
            "word_spacing": {
              "type": "string",
              "enum": ["normal", "wide", "wider"],
              "default": "normal"
            }
          }
        },
        "color_settings": {
          "type": "object",
          "properties": {
            "high_contrast": {
              "type": "boolean",
              "default": false
            },
            "contrast_mode": {
              "type": "string",
              "enum": ["normal", "high_contrast_light", "high_contrast_dark", "custom"]
            },
            "invert_colors": {
              "type": "boolean",
              "default": false
            },
            "background_color": {
              "type": "string",
              "pattern": "^#[0-9A-Fa-f]{6}$"
            },
            "text_color": {
              "type": "string",
              "pattern": "^#[0-9A-Fa-f]{6}$"
            },
            "link_color": {
              "type": "string",
              "pattern": "^#[0-9A-Fa-f]{6}$"
            },
            "highlight_color": {
              "type": "string",
              "pattern": "^#[0-9A-Fa-f]{6}$"
            },
            "color_blind_filter": {
              "type": "string",
              "enum": ["none", "protanopia", "deuteranopia", "tritanopia", "achromatopsia"]
            }
          }
        },
        "reduce_motion": {
          "type": "boolean",
          "default": false,
          "description": "Reduce or eliminate animations"
        },
        "reading_guide": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "type": {
              "type": "string",
              "enum": ["line_highlight", "ruler", "mask", "focus_box"]
            }
          }
        }
      }
    },
    "ControlPreferences": {
      "type": "object",
      "description": "Input and control preferences (AccessForAll Control category)",
      "properties": {
        "input_method": {
          "type": "object",
          "properties": {
            "primary": {
              "type": "string",
              "enum": ["keyboard", "mouse", "touch", "voice", "eye_gaze", "switch", "head_tracking", "bci"],
              "default": "keyboard"
            },
            "keyboard_only": {
              "type": "boolean",
              "default": false,
              "description": "Requires all functions to be keyboard accessible"
            },
            "voice_control": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "language": {
                  "type": "string"
                },
                "wake_word": {
                  "type": "string"
                }
              }
            },
            "eye_gaze": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "dwell_time_ms": {
                  "type": "integer",
                  "minimum": 200,
                  "maximum": 5000,
                  "default": 1000
                }
              }
            },
            "switch_access": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "num_switches": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 5
                },
                "scan_speed_ms": {
                  "type": "integer",
                  "minimum": 500,
                  "maximum": 10000,
                  "default": 2000
                }
              }
            }
          }
        },
        "timing": {
          "type": "object",
          "properties": {
            "extended_time": {
              "type": "boolean",
              "default": false
            },
            "time_multiplier": {
              "type": "number",
              "minimum": 1.0,
              "maximum": 5.0,
              "default": 1.5
            },
            "disable_auto_advance": {
              "type": "boolean",
              "default": false
            },
            "pause_on_inactivity": {
              "type": "boolean",
              "default": true
            }
          }
        },
        "click_settings": {
          "type": "object",
          "properties": {
            "large_targets": {
              "type": "boolean",
              "default": false,
              "description": "Require larger click/tap targets"
            },
            "min_target_size_px": {
              "type": "integer",
              "minimum": 24,
              "maximum": 100,
              "default": 44
            },
            "double_click_delay_ms": {
              "type": "integer",
              "minimum": 200,
              "maximum": 2000
            },
            "sticky_keys": {
              "type": "boolean",
              "default": false
            }
          }
        }
      }
    },
    "ContentPreferences": {
      "type": "object",
      "description": "Content and media preferences (AccessForAll Content category)",
      "properties": {
        "captions": {
          "type": "object",
          "properties": {
            "required": {
              "type": "boolean",
              "default": false
            },
            "style": {
              "type": "string",
              "enum": ["default", "large", "high_contrast", "custom"]
            },
            "language": {
              "type": "string"
            }
          }
        },
        "audio_description": {
          "type": "object",
          "properties": {
            "required": {
              "type": "boolean",
              "default": false
            },
            "extended": {
              "type": "boolean",
              "default": false,
              "description": "Prefer extended audio descriptions when available"
            }
          }
        },
        "transcripts": {
          "type": "object",
          "properties": {
            "required": {
              "type": "boolean",
              "default": false
            },
            "interactive": {
              "type": "boolean",
              "default": true,
              "description": "Prefer interactive transcripts synced with media"
            }
          }
        },
        "sign_language": {
          "type": "object",
          "properties": {
            "preferred": {
              "type": "boolean",
              "default": false
            },
            "language": {
              "type": "string",
              "enum": ["asl", "bsl", "auslan", "ksl", "jsl", "lsf", "dgs", "other"],
              "description": "Preferred sign language"
            }
          }
        },
        "text_to_speech": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "voice": {
              "type": "string"
            },
            "rate": {
              "type": "number",
              "minimum": 0.5,
              "maximum": 2.0,
              "default": 1.0
            },
            "pitch": {
              "type": "number",
              "minimum": 0.5,
              "maximum": 2.0,
              "default": 1.0
            }
          }
        },
        "simplification": {
          "type": "object",
          "properties": {
            "reading_level": {
              "type": "string",
              "enum": ["standard", "simplified", "easy_read"],
              "default": "standard"
            },
            "definitions": {
              "type": "boolean",
              "default": true,
              "description": "Show definitions for complex terms"
            },
            "chunked_content": {
              "type": "boolean",
              "default": false,
              "description": "Break content into smaller sections"
            }
          }
        },
        "alternative_formats": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["braille", "large_print", "audio", "tactile", "simplified_graphics"]
          },
          "description": "Preferred alternative content formats"
        }
      }
    },
    "LearningStyle": {
      "type": "object",
      "description": "Learning preferences aligned with UDL principles",
      "properties": {
        "engagement": {
          "type": "object",
          "description": "UDL Engagement - The 'why' of learning",
          "properties": {
            "interest_triggers": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["choice", "relevance", "authenticity", "gamification", "social", "challenge", "creativity"]
              }
            },
            "collaboration_preference": {
              "type": "string",
              "enum": ["individual", "pairs", "small_groups", "large_groups", "flexible"]
            },
            "feedback_style": {
              "type": "string",
              "enum": ["immediate", "delayed", "peer", "instructor", "automated"]
            },
            "self_regulation_support": {
              "type": "boolean",
              "default": false,
              "description": "Needs support for self-monitoring and goal-setting"
            }
          }
        },
        "representation": {
          "type": "object",
          "description": "UDL Representation - The 'what' of learning",
          "properties": {
            "preferred_modalities": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["visual", "auditory", "reading", "kinesthetic", "interactive"]
              },
              "description": "Preferred ways to receive information"
            },
            "background_knowledge_support": {
              "type": "boolean",
              "default": false,
              "description": "Needs scaffolding for prerequisite concepts"
            },
            "pattern_highlighting": {
              "type": "boolean",
              "default": false,
              "description": "Benefits from highlighted patterns and relationships"
            }
          }
        },
        "action_expression": {
          "type": "object",
          "description": "UDL Action & Expression - The 'how' of learning",
          "properties": {
            "expression_preferences": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["written", "verbal", "visual", "multimedia", "demonstration", "portfolio"]
              },
              "description": "Preferred ways to demonstrate learning"
            },
            "planning_support": {
              "type": "boolean",
              "default": false,
              "description": "Needs support for planning and organization"
            },
            "progress_tracking": {
              "type": "string",
              "enum": ["detailed", "summary", "visual", "minimal"]
            }
          }
        }
      }
    },
    "AssessmentAccommodations": {
      "type": "object",
      "description": "Testing and assessment accommodations",
      "properties": {
        "timing": {
          "type": "object",
          "properties": {
            "extended_time": {
              "type": "boolean",
              "default": false
            },
            "time_multiplier": {
              "type": "number",
              "minimum": 1.0,
              "maximum": 5.0,
              "default": 1.5
            },
            "unlimited_time": {
              "type": "boolean",
              "default": false
            },
            "breaks_allowed": {
              "type": "boolean",
              "default": false
            },
            "break_frequency_minutes": {
              "type": "integer",
              "minimum": 10,
              "maximum": 120
            }
          }
        },
        "format": {
          "type": "object",
          "properties": {
            "alternative_formats": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["large_print", "braille", "audio", "digital", "paper"]
              }
            },
            "response_formats": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["written", "typed", "verbal", "scribe", "recorded"]
              }
            }
          }
        },
        "environment": {
          "type": "object",
          "properties": {
            "separate_room": {
              "type": "boolean",
              "default": false
            },
            "reduced_distractions": {
              "type": "boolean",
              "default": false
            },
            "preferential_seating": {
              "type": "boolean",
              "default": false
            }
          }
        },
        "assistance": {
          "type": "object",
          "properties": {
            "reader": {
              "type": "boolean",
              "default": false,
              "description": "Questions read aloud"
            },
            "scribe": {
              "type": "boolean",
              "default": false,
              "description": "Answers recorded by another person"
            },
            "calculator": {
              "type": "boolean",
              "default": false
            },
            "spell_check": {
              "type": "boolean",
              "default": false
            },
            "grammar_check": {
              "type": "boolean",
              "default": false
            },
            "dictionary": {
              "type": "boolean",
              "default": false
            },
            "notes": {
              "type": "boolean",
              "default": false
            }
          }
        }
      }
    },
    "AssistiveTechnology": {
      "type": "object",
      "description": "Assistive technology in use",
      "properties": {
        "devices": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "screen_reader",
                  "magnifier",
                  "braille_display",
                  "alternative_keyboard",
                  "switch_device",
                  "eye_tracker",
                  "head_tracker",
                  "mouth_stick",
                  "voice_recognition",
                  "aac_device",
                  "hearing_aid",
                  "cochlear_implant",
                  "fm_system",
                  "wheelchair",
                  "bci",
                  "other"
                ]
              },
              "name": {
                "type": "string"
              },
              "version": {
                "type": "string"
              },
              "wia_device_id": {
                "type": "string",
                "format": "uuid",
                "description": "WIA device ID for ecosystem integration"
              }
            },
            "required": ["type"]
          }
        },
        "software": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "screen_reader",
                  "magnification",
                  "voice_control",
                  "text_to_speech",
                  "speech_to_text",
                  "reading_assistance",
                  "writing_assistance",
                  "organization",
                  "focus",
                  "other"
                ]
              },
              "name": {
                "type": "string"
              },
              "version": {
                "type": "string"
              }
            },
            "required": ["type"]
          }
        }
      }
    },
    "WIAIntegrations": {
      "type": "object",
      "description": "Integration settings for WIA ecosystem devices",
      "properties": {
        "aac_profile_id": {
          "type": "string",
          "format": "uuid",
          "description": "Linked WIA AAC profile for communication support"
        },
        "bci_profile_id": {
          "type": "string",
          "format": "uuid",
          "description": "Linked WIA BCI profile for brain-computer interface"
        },
        "eye_gaze_profile_id": {
          "type": "string",
          "format": "uuid",
          "description": "Linked WIA eye gaze tracking profile"
        },
        "wheelchair_profile_id": {
          "type": "string",
          "format": "uuid",
          "description": "Linked WIA smart wheelchair profile"
        },
        "smart_home_profile_id": {
          "type": "string",
          "format": "uuid",
          "description": "Linked WIA smart home profile for environmental control"
        },
        "sync_enabled": {
          "type": "boolean",
          "default": true,
          "description": "Automatically sync settings across WIA devices"
        },
        "cloud_backup": {
          "type": "boolean",
          "default": false,
          "description": "Backup profile to WIA cloud"
        }
      }
    }
  },
  "examples": [
    {
      "profile_id": "550e8400-e29b-41d4-a716-446655440000",
      "schema_version": "1.0.0",
      "created_at": "2025-01-15T09:00:00Z",
      "learner_info": {
        "display_name": "민수",
        "preferred_language": "ko",
        "education_level": "undergraduate"
      },
      "disability_profile": {
        "disclosed": true,
        "disability_types": ["blind"]
      },
      "display_preferences": {
        "screen_reader": {
          "enabled": true,
          "preferred_reader": "nvda",
          "speech_rate": 1.5,
          "verbosity": "normal"
        }
      },
      "content_preferences": {
        "audio_description": {
          "required": true
        },
        "transcripts": {
          "required": true,
          "interactive": true
        }
      },
      "assessment_accommodations": {
        "timing": {
          "extended_time": true,
          "time_multiplier": 1.5
        },
        "assistance": {
          "reader": true
        }
      }
    }
  ]
}
