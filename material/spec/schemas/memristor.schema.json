{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/material/v1/memristor.schema.json",
  "title": "WIA Material - Memristor",
  "description": "Schema for memristor devices and neuromorphic components",
  "allOf": [
    { "$ref": "wia-material-v1.schema.json" }
  ],
  "properties": {
    "material_type": {
      "const": "memristor"
    },
    "properties": {
      "type": "object",
      "properties": {
        "domain_specific": {
          "type": "object",
          "required": ["material", "resistance_high_ohm", "resistance_low_ohm"],
          "properties": {
            "material": {
              "type": "string",
              "description": "Active layer material",
              "examples": ["TiO2", "HfO2", "Ta2O5", "PCMO"]
            },
            "structure": {
              "type": "string",
              "enum": ["metal_insulator_metal", "metal_oxide_semiconductor", "organic", "hybrid"],
              "description": "Device structure type"
            },
            "dimensions": {
              "type": "object",
              "properties": {
                "length_nm": { "type": "number", "minimum": 0 },
                "width_nm": { "type": "number", "minimum": 0 },
                "thickness_nm": { "type": "number", "minimum": 0 }
              },
              "description": "Device dimensions in nanometers"
            },
            "resistance_high_ohm": {
              "type": "number",
              "minimum": 0,
              "description": "High resistance state (HRS) in ohms"
            },
            "resistance_low_ohm": {
              "type": "number",
              "minimum": 0,
              "description": "Low resistance state (LRS) in ohms"
            },
            "on_off_ratio": {
              "type": "number",
              "minimum": 1,
              "description": "ON/OFF resistance ratio"
            },
            "set_voltage_V": {
              "type": "number",
              "description": "SET voltage in volts"
            },
            "reset_voltage_V": {
              "type": "number",
              "description": "RESET voltage in volts"
            },
            "read_voltage_V": {
              "type": "number",
              "description": "Read voltage in volts"
            },
            "forming_voltage_V": {
              "type": "number",
              "description": "Initial forming voltage in volts"
            },
            "endurance_cycles": {
              "type": "number",
              "minimum": 0,
              "description": "Endurance in switching cycles"
            },
            "retention_s": {
              "type": "number",
              "minimum": 0,
              "description": "Data retention time in seconds"
            },
            "switching_speed_ns": {
              "type": "number",
              "minimum": 0,
              "description": "Switching speed in nanoseconds"
            },
            "switching_mechanism": {
              "type": "string",
              "enum": ["filamentary", "interface", "bulk", "phase_change"],
              "description": "Resistance switching mechanism"
            },
            "switching_type": {
              "type": "string",
              "enum": ["unipolar", "bipolar", "nonpolar"],
              "description": "Switching polarity type"
            },
            "current_compliance_A": {
              "type": "number",
              "minimum": 0,
              "description": "Current compliance during SET"
            },
            "neuromorphic": {
              "type": "object",
              "properties": {
                "synaptic_weight": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Normalized synaptic weight"
                },
                "plasticity": {
                  "type": "string",
                  "enum": ["stdp", "srdp", "paired_pulse", "none"],
                  "description": "Synaptic plasticity mechanism"
                },
                "learning_rate": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Learning rate parameter"
                },
                "analog_states": {
                  "type": "integer",
                  "minimum": 2,
                  "description": "Number of distinguishable analog states"
                },
                "linearity": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Weight update linearity (1 = ideal)"
                },
                "symmetry": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Potentiation/depression symmetry"
                }
              },
              "description": "Neuromorphic computing properties"
            },
            "array": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["crossbar", "1t1r", "1s1r"],
                  "description": "Array architecture"
                },
                "rows": { "type": "integer", "minimum": 1 },
                "columns": { "type": "integer", "minimum": 1 },
                "sneak_current_suppression": { "type": "boolean" }
              },
              "description": "Crossbar array configuration"
            }
          }
        }
      }
    }
  }
}
