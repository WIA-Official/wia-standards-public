{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/material/v1/topological-insulator.schema.json",
  "title": "WIA Material - Topological Insulator",
  "description": "Schema for topological insulators and related quantum materials",
  "allOf": [
    { "$ref": "wia-material-v1.schema.json" }
  ],
  "properties": {
    "material_type": {
      "const": "topological_insulator"
    },
    "properties": {
      "type": "object",
      "properties": {
        "domain_specific": {
          "type": "object",
          "required": ["band_gap_eV"],
          "properties": {
            "topological_class": {
              "type": "string",
              "enum": ["2d_ti", "3d_ti", "weak_ti", "strong_ti", "crystalline_ti", "higher_order_ti"],
              "description": "Topological classification"
            },
            "band_gap_eV": {
              "type": "number",
              "minimum": 0,
              "description": "Bulk band gap in electron volts"
            },
            "z2_invariant": {
              "type": "array",
              "items": {
                "type": "integer",
                "enum": [0, 1]
              },
              "minItems": 1,
              "maxItems": 4,
              "description": "Z2 topological invariant [ν0] or [ν0; ν1, ν2, ν3]"
            },
            "chern_number": {
              "type": "integer",
              "description": "Chern number (for 2D systems)"
            },
            "dirac_point_eV": {
              "type": "number",
              "description": "Dirac point energy relative to Fermi level in eV"
            },
            "surface_state": {
              "type": "object",
              "properties": {
                "fermi_velocity_m_s": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Fermi velocity at Dirac point in m/s"
                },
                "spin_texture": {
                  "type": "string",
                  "enum": ["helical", "hedgehog", "complex"],
                  "description": "Spin texture type"
                },
                "surface_conductivity_S": {
                  "type": "number",
                  "description": "Surface conductivity in Siemens"
                },
                "mean_free_path_nm": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Mean free path in nanometers"
                }
              },
              "description": "Topological surface state properties"
            },
            "bulk_properties": {
              "type": "object",
              "properties": {
                "bulk_resistivity_ohm_m": {
                  "type": "number",
                  "description": "Bulk resistivity in ohm-meters"
                },
                "bulk_carrier_density_cm3": {
                  "type": "number",
                  "description": "Bulk carrier density in cm⁻³"
                },
                "bulk_mobility_cm2_Vs": {
                  "type": "number",
                  "description": "Bulk carrier mobility in cm²/V·s"
                }
              },
              "description": "Bulk transport properties"
            },
            "spin_orbit_coupling_eV": {
              "type": "number",
              "minimum": 0,
              "description": "Spin-orbit coupling strength in eV"
            },
            "spin_hall_angle": {
              "type": "number",
              "description": "Spin Hall angle (dimensionless)"
            },
            "spin_diffusion_length_nm": {
              "type": "number",
              "minimum": 0,
              "description": "Spin diffusion length in nanometers"
            },
            "magnetoresistance": {
              "type": "object",
              "properties": {
                "weak_antilocalization": {
                  "type": "boolean",
                  "description": "Weak antilocalization observed"
                },
                "linear_mr": {
                  "type": "boolean",
                  "description": "Linear magnetoresistance observed"
                },
                "shubnikov_de_haas": {
                  "type": "boolean",
                  "description": "Shubnikov-de Haas oscillations observed"
                }
              },
              "description": "Magnetotransport signatures"
            },
            "quantum_oscillations": {
              "type": "object",
              "properties": {
                "frequency_T": {
                  "type": "number",
                  "description": "Oscillation frequency in Tesla"
                },
                "berry_phase": {
                  "type": "number",
                  "description": "Berry phase (π for Dirac fermions)"
                },
                "effective_mass_me": {
                  "type": "number",
                  "description": "Effective mass in units of electron mass"
                }
              },
              "description": "Quantum oscillation analysis"
            },
            "majorana": {
              "type": "object",
              "properties": {
                "hybrid_with_superconductor": {
                  "type": "string",
                  "description": "Superconductor material in heterostructure"
                },
                "zero_bias_peak": {
                  "type": "boolean",
                  "description": "Zero-bias conductance peak observed"
                },
                "peak_height_2e2_h": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Peak height in units of 2e²/h"
                },
                "induced_gap_meV": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Proximity-induced superconducting gap in meV"
                }
              },
              "description": "Majorana fermion signatures"
            }
          }
        }
      }
    }
  }
}
