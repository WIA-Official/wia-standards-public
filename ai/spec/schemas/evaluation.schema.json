{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/schemas/ai/evaluation.schema.json",
  "title": "WIA AI Evaluation",
  "description": "Schema for WIA AI evaluation results",
  "type": "object",
  "required": [
    "wia_version",
    "evaluation_id",
    "evaluation_info"
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "format": "uri"
    },
    "wia_version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "WIA AI specification version"
    },
    "evaluation_id": {
      "type": "string",
      "pattern": "^eval-[a-zA-Z0-9-]+$",
      "description": "Unique evaluation identifier"
    },
    "evaluation_info": {
      "type": "object",
      "required": ["name", "model_id"],
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["safety", "capability", "alignment", "robustness", "bias", "performance", "comprehensive"]
        },
        "model_id": {
          "type": "string"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "evaluator": {
          "type": "string"
        }
      }
    },
    "benchmarks": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/benchmark"
      }
    },
    "custom_evaluations": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/customEvaluation"
      }
    },
    "summary": {
      "type": "object",
      "properties": {
        "overall_score": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "grade": {
          "type": "string"
        },
        "strengths": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "weaknesses": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "evaluation_framework": {
          "type": "string"
        },
        "framework_version": {
          "type": "string"
        },
        "compute_used": {
          "type": "string"
        },
        "duration_hours": {
          "type": "number"
        }
      }
    }
  },
  "definitions": {
    "benchmark": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string"
        },
        "version": {
          "type": "string"
        },
        "overall_score": {
          "type": "number"
        },
        "categories": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/benchmarkCategory"
          }
        },
        "by_subject": {
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        },
        "pass_at_1": {
          "type": "number"
        },
        "pass_at_10": {
          "type": "number"
        },
        "accuracy": {
          "type": "number"
        }
      }
    },
    "benchmarkCategory": {
      "type": "object",
      "properties": {
        "score": {
          "type": "number"
        },
        "details": {
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        }
      }
    },
    "customEvaluation": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "dataset": {
          "type": "string"
        },
        "metrics": {
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        },
        "methodology": {
          "type": "string"
        }
      }
    }
  }
}
