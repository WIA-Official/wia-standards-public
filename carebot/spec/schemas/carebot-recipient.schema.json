{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia-standards.org/carebot/recipient.schema.json",
  "title": "CareRecipient",
  "description": "Care recipient profile and preferences",
  "type": "object",
  "required": ["recipient_id", "profile"],
  "properties": {
    "recipient_id": {
      "type": "string",
      "pattern": "^recipient-[a-z0-9-]+$"
    },
    "profile": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": { "type": "string" },
        "preferred_name": { "type": "string" },
        "birth_date": { "type": "string", "format": "date" },
        "gender": { "type": "string", "enum": ["male", "female", "other"] },
        "blood_type": { "type": "string" },
        "photo_url": { "type": "string" }
      }
    },
    "health": {
      "type": "object",
      "properties": {
        "conditions": {
          "type": "array",
          "items": { "type": "string" }
        },
        "allergies": {
          "type": "array",
          "items": { "type": "string" }
        },
        "mobility_level": {
          "type": "string",
          "enum": ["independent", "assisted_walking", "wheelchair", "bedridden"]
        },
        "cognitive_level": {
          "type": "string",
          "enum": ["normal", "mild_impairment", "moderate_impairment", "severe_impairment"]
        },
        "hearing_level": {
          "type": "string",
          "enum": ["normal", "mild_loss", "moderate_loss", "severe_loss"]
        },
        "vision_level": {
          "type": "string",
          "enum": ["normal", "corrected_normal", "low_vision", "blind"]
        }
      }
    },
    "medications": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "dosage", "frequency"],
        "properties": {
          "name": { "type": "string" },
          "dosage": { "type": "string" },
          "frequency": { "type": "string" },
          "time": { "type": "string" },
          "times": { "type": "array", "items": { "type": "string" } },
          "with_food": { "type": "boolean" },
          "notes": { "type": "string" }
        }
      }
    },
    "preferences": {
      "type": "object",
      "properties": {
        "wake_time": { "type": "string" },
        "sleep_time": { "type": "string" },
        "preferred_language": { "type": "string" },
        "voice_speed": { "type": "string", "enum": ["slow", "normal", "fast"] },
        "voice_volume": { "type": "string", "enum": ["quiet", "normal", "loud"] },
        "preferred_topics": { "type": "array", "items": { "type": "string" } },
        "music_genres": { "type": "array", "items": { "type": "string" } },
        "conversation_style": { "type": "string" }
      }
    },
    "emergency_contacts": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "phone", "priority"],
        "properties": {
          "name": { "type": "string" },
          "relationship": { "type": "string" },
          "phone": { "type": "string" },
          "priority": { "type": "integer" },
          "notify_on": { "type": "array", "items": { "type": "string" } }
        }
      }
    },
    "care_team": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "role": { "type": "string" },
          "hospital": { "type": "string" },
          "phone": { "type": "string" },
          "speciality": { "type": "string" }
        }
      }
    },
    "created_at": { "type": "string", "format": "date-time" },
    "updated_at": { "type": "string", "format": "date-time" }
  }
}
