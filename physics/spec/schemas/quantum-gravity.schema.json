{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://wia.live/schemas/physics/quantum-gravity.schema.json",
  "title": "WIA Physics Quantum Gravity Schema",
  "description": "Schema for quantum gravity research data in WIA Physics Standard",
  "version": "1.0.0",
  "type": "object",

  "properties": {
    "$schema": {
      "type": "string",
      "const": "https://wia.live/schemas/physics/quantum-gravity.schema.json"
    },
    "metadata": {
      "$ref": "common.schema.json#/$defs/metadata"
    },
    "theoretical_prediction": {
      "$ref": "#/$defs/theoretical_prediction"
    },
    "lqg_data": {
      "$ref": "#/$defs/lqg_data"
    },
    "string_theory_data": {
      "$ref": "#/$defs/string_theory_data"
    },
    "black_hole": {
      "$ref": "#/$defs/black_hole_data"
    },
    "cosmological": {
      "$ref": "#/$defs/cosmological_data"
    },
    "experimental_test": {
      "$ref": "#/$defs/experimental_test"
    },
    "quality": {
      "$ref": "common.schema.json#/$defs/quality_flag"
    },
    "provenance": {
      "$ref": "common.schema.json#/$defs/provenance"
    }
  },

  "required": ["metadata"],

  "$defs": {
    "theoretical_prediction": {
      "type": "object",
      "description": "Theoretical prediction from quantum gravity model",
      "properties": {
        "theory": {
          "type": "string",
          "enum": ["LQG", "string_theory", "asymptotic_safety", "CDT", "emergent_gravity", "massive_gravity", "horava_lifshitz", "entropic_gravity", "other"],
          "description": "Quantum gravity theory"
        },
        "prediction_type": {
          "type": "string",
          "description": "Type of prediction (area spectrum, entropy, dispersion, etc.)"
        },
        "observable": {
          "type": "string",
          "description": "Physical observable predicted"
        },
        "value": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Predicted value"
        },
        "classical_value": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Classical (GR) prediction for comparison"
        },
        "quantum_correction": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Quantum gravity correction term"
        },
        "model_parameters": {
          "type": "object",
          "additionalProperties": true,
          "description": "Theory-specific parameters"
        },
        "assumptions": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Key assumptions in derivation"
        },
        "validity_regime": {
          "type": "string",
          "description": "Regime where prediction is valid"
        },
        "reference": {
          "type": "string",
          "description": "Literature reference"
        }
      },
      "required": ["theory", "prediction_type"]
    },

    "lqg_data": {
      "type": "object",
      "description": "Loop quantum gravity specific data",
      "properties": {
        "immirzi_parameter": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Barbero-Immirzi parameter value"
        },
        "area_spectrum": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "quantum_numbers": {
                "type": "object",
                "properties": {
                  "j": {"type": "array", "items": {"type": "number"}},
                  "description": "Spin quantum numbers"
                }
              },
              "area": {"$ref": "common.schema.json#/$defs/measurement"},
              "degeneracy": {"type": "integer"}
            }
          },
          "description": "Area eigenvalue spectrum"
        },
        "volume_spectrum": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "quantum_numbers": {"type": "object"},
              "volume": {"$ref": "common.schema.json#/$defs/measurement"},
              "degeneracy": {"type": "integer"}
            }
          },
          "description": "Volume eigenvalue spectrum"
        },
        "spin_foam": {
          "type": "object",
          "properties": {
            "model": {"type": "string", "enum": ["EPRL", "FK", "BC", "other"]},
            "amplitude": {"$ref": "common.schema.json#/$defs/measurement"},
            "vertex_count": {"type": "integer"},
            "face_count": {"type": "integer"}
          },
          "description": "Spin foam calculation data"
        },
        "singularity_resolution": {
          "type": "object",
          "properties": {
            "type": {"type": "string", "enum": ["cosmological", "black_hole"]},
            "bounce_density": {"$ref": "common.schema.json#/$defs/measurement"},
            "minimum_volume": {"$ref": "common.schema.json#/$defs/measurement"}
          },
          "description": "Singularity resolution data"
        },
        "cosmological_constant": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Predicted cosmological constant"
        }
      }
    },

    "string_theory_data": {
      "type": "object",
      "description": "String theory specific data",
      "properties": {
        "string_type": {
          "type": "string",
          "enum": ["type_I", "type_IIA", "type_IIB", "heterotic_SO32", "heterotic_E8xE8", "M_theory"],
          "description": "String theory type"
        },
        "dimensions": {
          "type": "integer",
          "minimum": 10,
          "maximum": 11,
          "description": "Total spacetime dimensions"
        },
        "compactification": {
          "type": "object",
          "properties": {
            "manifold": {"type": "string"},
            "moduli": {"type": "object"},
            "flux_configuration": {"type": "string"}
          },
          "description": "Compactification scheme"
        },
        "string_coupling": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "String coupling constant"
        },
        "string_length": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "String length scale"
        },
        "alpha_prime": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "String tension parameter Î±'"
        },
        "landscape_location": {
          "type": "string",
          "description": "Position in string landscape"
        },
        "susy_breaking_scale": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Supersymmetry breaking scale"
        },
        "moduli_stabilization": {
          "type": "string",
          "description": "Moduli stabilization mechanism"
        },
        "ads_cft": {
          "type": "object",
          "properties": {
            "ads_radius": {"$ref": "common.schema.json#/$defs/measurement"},
            "cft_dimension": {"type": "integer"},
            "central_charge": {"$ref": "common.schema.json#/$defs/measurement"}
          },
          "description": "AdS/CFT correspondence data"
        }
      }
    },

    "black_hole_data": {
      "type": "object",
      "description": "Quantum black hole data",
      "properties": {
        "mass": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Black hole mass"
        },
        "angular_momentum": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Black hole angular momentum (J)"
        },
        "charge": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Black hole charge"
        },
        "horizon_area": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Event horizon area"
        },
        "bekenstein_hawking_entropy": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Classical BH entropy (A/4)"
        },
        "quantum_entropy": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Quantum-corrected entropy"
        },
        "logarithmic_correction": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Log correction coefficient"
        },
        "hawking_temperature": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Hawking temperature"
        },
        "evaporation_time": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Evaporation timescale"
        },
        "remnant_mass": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Predicted remnant mass (if any)"
        },
        "information_paradox": {
          "type": "object",
          "properties": {
            "resolution_mechanism": {"type": "string"},
            "page_time": {"$ref": "common.schema.json#/$defs/measurement"},
            "scrambling_time": {"$ref": "common.schema.json#/$defs/measurement"}
          },
          "description": "Information paradox related data"
        }
      }
    },

    "cosmological_data": {
      "type": "object",
      "description": "Quantum cosmology data",
      "properties": {
        "model": {
          "type": "string",
          "enum": ["LQC", "string_gas", "ekpyrotic", "cyclic", "eternal_inflation", "other"],
          "description": "Cosmological model"
        },
        "big_bang_singularity": {
          "type": "string",
          "enum": ["resolved", "classical", "uncertain"],
          "description": "Status of big bang singularity"
        },
        "bounce": {
          "type": "object",
          "properties": {
            "occurs": {"type": "boolean"},
            "density": {"$ref": "common.schema.json#/$defs/measurement"},
            "scale_factor_min": {"$ref": "common.schema.json#/$defs/measurement"}
          },
          "description": "Cosmological bounce data"
        },
        "inflation": {
          "type": "object",
          "properties": {
            "scalar_spectral_index": {"$ref": "common.schema.json#/$defs/measurement"},
            "tensor_to_scalar_ratio": {"$ref": "common.schema.json#/$defs/measurement"},
            "running": {"$ref": "common.schema.json#/$defs/measurement"}
          },
          "description": "Inflationary predictions"
        },
        "dark_energy": {
          "type": "object",
          "properties": {
            "equation_of_state": {"$ref": "common.schema.json#/$defs/measurement"},
            "origin": {"type": "string"}
          },
          "description": "Dark energy predictions"
        }
      }
    },

    "experimental_test": {
      "type": "object",
      "description": "Experimental test of quantum gravity",
      "properties": {
        "test_type": {
          "type": "string",
          "enum": ["lorentz_violation", "dispersion", "decoherence", "discreteness", "equivalence_principle", "gravitational_wave", "astrophysical"],
          "description": "Type of experimental test"
        },
        "observable": {
          "type": "string",
          "description": "Observable being tested"
        },
        "prediction": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Theoretical prediction"
        },
        "measurement": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Experimental measurement"
        },
        "constraint": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Constraint on QG parameter"
        },
        "planck_scale_constraint": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Constraint in Planck units"
        },
        "experiment": {
          "type": "string",
          "description": "Experiment name"
        },
        "source": {
          "type": "string",
          "description": "Astrophysical source (if applicable)"
        },
        "conclusion": {
          "type": "string",
          "enum": ["consistent", "tension", "excluded", "inconclusive"],
          "description": "Test conclusion"
        }
      },
      "required": ["test_type", "observable"]
    },

    "planck_quantities": {
      "type": "object",
      "description": "Fundamental Planck scale quantities",
      "properties": {
        "planck_length": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Planck length (m)"
        },
        "planck_time": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Planck time (s)"
        },
        "planck_mass": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Planck mass (kg)"
        },
        "planck_energy": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Planck energy (J or GeV)"
        },
        "planck_temperature": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Planck temperature (K)"
        },
        "planck_density": {
          "$ref": "common.schema.json#/$defs/measurement",
          "description": "Planck density (kg/m^3)"
        }
      }
    }
  }
}
