{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/schemas/cognitive-aac/dementia-profile.schema.json",
  "title": "WIA Dementia Profile",
  "description": "Extended cognitive profile schema for dementia - WIA Cognitive AAC Standard",
  "type": "object",
  "allOf": [
    { "$ref": "cognitive-profile.schema.json" }
  ],
  "required": ["profileType", "diagnosis", "preservedAbilities", "impairedDomains", "functionalStatus", "behavioralSymptoms", "personalHistory", "dementiaAACAdaptation"],
  "properties": {
    "profileType": {
      "type": "string",
      "const": "dementia"
    },
    "diagnosis": {
      "$ref": "#/definitions/DementiaDiagnosis"
    },
    "preservedAbilities": {
      "$ref": "#/definitions/PreservedAbilities"
    },
    "impairedDomains": {
      "$ref": "#/definitions/ImpairedDomains"
    },
    "functionalStatus": {
      "$ref": "#/definitions/FunctionalStatus"
    },
    "behavioralSymptoms": {
      "$ref": "#/definitions/BehavioralSymptoms"
    },
    "personalHistory": {
      "$ref": "#/definitions/PersonalHistory"
    },
    "dementiaAACAdaptation": {
      "$ref": "#/definitions/DementiaAACAdaptation"
    }
  },
  "definitions": {
    "CognitiveLevel": {
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "ImpairmentLevel": {
      "type": "integer",
      "minimum": 0,
      "maximum": 4,
      "description": "0=INTACT, 1=MILD, 2=MODERATE, 3=SEVERE, 4=PROFOUND"
    },
    "FunctionLevel": {
      "type": "integer",
      "minimum": 0,
      "maximum": 4,
      "description": "0=INDEPENDENT, 1=MINIMAL_HELP, 2=MODERATE_HELP, 3=MAXIMAL_HELP, 4=TOTAL_DEPENDENCE"
    },
    "SeverityLevel": {
      "type": "integer",
      "minimum": 0,
      "maximum": 3,
      "description": "0=NONE, 1=MILD, 2=MODERATE, 3=SEVERE"
    },
    "DementiaDiagnosis": {
      "type": "object",
      "required": ["type", "stage", "diagnosisDate", "lastAssessmentDate"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["alzheimers", "vascular", "lewy_body", "frontotemporal", "mixed", "parkinsons", "other"]
        },
        "stage": {
          "type": "string",
          "enum": ["preclinical", "mci", "early", "middle", "late"]
        },
        "diagnosisDate": {
          "type": "string",
          "format": "date"
        },
        "lastAssessmentDate": {
          "type": "string",
          "format": "date"
        },
        "progressionRate": {
          "type": "string",
          "enum": ["slow", "typical", "rapid"]
        },
        "comorbidities": {
          "type": "array",
          "items": { "type": "string" }
        },
        "cognitiveScores": {
          "type": "object",
          "properties": {
            "mmse": {
              "type": "integer",
              "minimum": 0,
              "maximum": 30
            },
            "moca": {
              "type": "integer",
              "minimum": 0,
              "maximum": 30
            },
            "cdr": {
              "type": "number",
              "minimum": 0,
              "maximum": 3
            }
          }
        }
      }
    },
    "PreservedAbilities": {
      "type": "object",
      "properties": {
        "proceduralMemory": {
          "type": "object",
          "properties": {
            "preserved": { "type": "boolean" },
            "examples": {
              "type": "array",
              "items": { "type": "string" }
            },
            "usableForAAC": { "type": "boolean" }
          }
        },
        "emotionalProcessing": {
          "type": "object",
          "properties": {
            "preserved": { "type": "boolean" },
            "recognizesFamiliarFaces": { "type": "boolean" },
            "respondsToTone": { "type": "boolean" },
            "respondsToMusic": { "type": "boolean" }
          }
        },
        "musicalAbility": {
          "type": "object",
          "properties": {
            "preserved": { "type": "boolean" },
            "canSingFamiliarSongs": { "type": "boolean" },
            "respondsToFamiliarMusic": { "type": "boolean" },
            "preferredMusic": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "socialEtiquette": {
          "type": "object",
          "properties": {
            "preserved": { "type": "boolean" },
            "greetings": { "type": "boolean" },
            "turnTaking": { "type": "boolean" }
          }
        },
        "remoteMemory": {
          "type": "object",
          "properties": {
            "preserved": { "type": "boolean" },
            "accessiblePeriods": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "readingAbility": {
          "type": "object",
          "properties": {
            "preserved": { "type": "boolean" },
            "level": {
              "type": "string",
              "enum": ["single_words", "short_phrases", "sentences"]
            }
          }
        }
      }
    },
    "ImpairedDomains": {
      "type": "object",
      "properties": {
        "memory": {
          "type": "object",
          "properties": {
            "recentMemory": { "$ref": "#/definitions/ImpairmentLevel" },
            "workingMemory": { "$ref": "#/definitions/ImpairmentLevel" },
            "prospectiveMemory": { "$ref": "#/definitions/ImpairmentLevel" },
            "semanticMemory": { "$ref": "#/definitions/ImpairmentLevel" }
          }
        },
        "language": {
          "type": "object",
          "properties": {
            "wordFinding": { "$ref": "#/definitions/ImpairmentLevel" },
            "naming": { "$ref": "#/definitions/ImpairmentLevel" },
            "comprehension": { "$ref": "#/definitions/ImpairmentLevel" },
            "repetition": { "$ref": "#/definitions/ImpairmentLevel" },
            "reading": { "$ref": "#/definitions/ImpairmentLevel" },
            "writing": { "$ref": "#/definitions/ImpairmentLevel" }
          }
        },
        "executive": {
          "type": "object",
          "properties": {
            "planning": { "$ref": "#/definitions/ImpairmentLevel" },
            "sequencing": { "$ref": "#/definitions/ImpairmentLevel" },
            "judgment": { "$ref": "#/definitions/ImpairmentLevel" },
            "problemSolving": { "$ref": "#/definitions/ImpairmentLevel" }
          }
        },
        "visuospatial": {
          "type": "object",
          "properties": {
            "navigation": { "$ref": "#/definitions/ImpairmentLevel" },
            "objectRecognition": { "$ref": "#/definitions/ImpairmentLevel" },
            "faceRecognition": { "$ref": "#/definitions/ImpairmentLevel" }
          }
        },
        "attention": {
          "type": "object",
          "properties": {
            "sustained": { "$ref": "#/definitions/ImpairmentLevel" },
            "divided": { "$ref": "#/definitions/ImpairmentLevel" },
            "selective": { "$ref": "#/definitions/ImpairmentLevel" }
          }
        }
      }
    },
    "FunctionalStatus": {
      "type": "object",
      "properties": {
        "basicADL": {
          "type": "object",
          "properties": {
            "eating": { "$ref": "#/definitions/FunctionLevel" },
            "dressing": { "$ref": "#/definitions/FunctionLevel" },
            "grooming": { "$ref": "#/definitions/FunctionLevel" },
            "toileting": { "$ref": "#/definitions/FunctionLevel" },
            "mobility": { "$ref": "#/definitions/FunctionLevel" }
          }
        },
        "instrumentalADL": {
          "type": "object",
          "properties": {
            "communication": { "$ref": "#/definitions/FunctionLevel" },
            "transportation": { "$ref": "#/definitions/FunctionLevel" },
            "shopping": { "$ref": "#/definitions/FunctionLevel" },
            "mealPreparation": { "$ref": "#/definitions/FunctionLevel" },
            "housekeeping": { "$ref": "#/definitions/FunctionLevel" },
            "medication": { "$ref": "#/definitions/FunctionLevel" },
            "finances": { "$ref": "#/definitions/FunctionLevel" }
          }
        },
        "decisionMaking": {
          "type": "object",
          "properties": {
            "level": { "$ref": "#/definitions/FunctionLevel" },
            "canMakeBasicChoices": { "type": "boolean" },
            "canExpressPreferences": { "type": "boolean" },
            "needsGuardian": { "type": "boolean" }
          }
        },
        "safetyAwareness": {
          "type": "object",
          "properties": {
            "level": { "$ref": "#/definitions/FunctionLevel" },
            "wanderingRisk": { "type": "boolean" },
            "fallRisk": { "type": "boolean" },
            "needsSupervision": {
              "type": "string",
              "enum": ["independent", "occasional", "frequent", "constant"]
            }
          }
        }
      }
    },
    "BehavioralSymptoms": {
      "type": "object",
      "properties": {
        "mood": {
          "type": "object",
          "properties": {
            "depression": { "$ref": "#/definitions/SeverityLevel" },
            "anxiety": { "$ref": "#/definitions/SeverityLevel" },
            "apathy": { "$ref": "#/definitions/SeverityLevel" },
            "irritability": { "$ref": "#/definitions/SeverityLevel" }
          }
        },
        "psychotic": {
          "type": "object",
          "properties": {
            "delusions": { "$ref": "#/definitions/SeverityLevel" },
            "hallucinations": { "$ref": "#/definitions/SeverityLevel" },
            "types": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "behavioral": {
          "type": "object",
          "properties": {
            "agitation": { "$ref": "#/definitions/SeverityLevel" },
            "aggression": { "$ref": "#/definitions/SeverityLevel" },
            "wandering": { "$ref": "#/definitions/SeverityLevel" },
            "repetitiveActions": { "$ref": "#/definitions/SeverityLevel" },
            "sundowning": { "type": "boolean" }
          }
        },
        "sleep": {
          "type": "object",
          "properties": {
            "insomnia": { "$ref": "#/definitions/SeverityLevel" },
            "daytimeSleepiness": { "$ref": "#/definitions/SeverityLevel" },
            "sleepWakeCycleDisruption": { "type": "boolean" }
          }
        },
        "management": {
          "type": "object",
          "properties": {
            "knownTriggers": {
              "type": "array",
              "items": { "type": "string" }
            },
            "calmingStrategies": {
              "type": "array",
              "items": { "type": "string" }
            },
            "bestTimeOfDay": { "type": "string" },
            "worstTimeOfDay": { "type": "string" }
          }
        }
      }
    },
    "PersonalHistory": {
      "type": "object",
      "properties": {
        "lifeHistory": {
          "type": "object",
          "properties": {
            "occupation": {
              "type": "array",
              "items": { "type": "string" }
            },
            "hobbies": {
              "type": "array",
              "items": { "type": "string" }
            },
            "significantPlaces": {
              "type": "array",
              "items": { "type": "string" }
            },
            "achievements": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "socialConnections": {
          "type": "object",
          "properties": {
            "familyMembers": {
              "type": "array",
              "items": { "$ref": "#/definitions/FamilyMember" }
            },
            "closeFriends": {
              "type": "array",
              "items": { "type": "string" }
            },
            "pets": {
              "type": "array",
              "items": { "type": "string" }
            },
            "significantRelationships": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "preferences": {
          "type": "object",
          "properties": {
            "favoriteMusic": {
              "type": "array",
              "items": { "type": "string" }
            },
            "favoriteMovies": {
              "type": "array",
              "items": { "type": "string" }
            },
            "favoriteFood": {
              "type": "array",
              "items": { "type": "string" }
            },
            "dislikedThings": {
              "type": "array",
              "items": { "type": "string" }
            },
            "dailyRoutines": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "culturalBackground": {
          "type": "object",
          "properties": {
            "ethnicity": { "type": "string" },
            "religion": { "type": "string" },
            "language": { "type": "string" },
            "culturalPractices": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "communicationHistory": {
          "type": "object",
          "properties": {
            "premorbidStyle": { "type": "string" },
            "preferredTopics": {
              "type": "array",
              "items": { "type": "string" }
            },
            "tabooTopics": {
              "type": "array",
              "items": { "type": "string" }
            },
            "meaningfulPhrases": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        }
      }
    },
    "FamilyMember": {
      "type": "object",
      "required": ["relationship", "name"],
      "properties": {
        "relationship": { "type": "string" },
        "name": { "type": "string" },
        "photoId": { "type": "string" },
        "recognitionLevel": {
          "type": "string",
          "enum": ["full", "sometimes", "familiar", "none"]
        },
        "visitFrequency": { "type": "string" }
      }
    },
    "DementiaAACAdaptation": {
      "type": "object",
      "required": ["stageBasedComplexity", "visualDesign", "reminiscenceElements", "temporalSupport", "repetitionSupport", "caregiverIntegration", "routineSupport"],
      "properties": {
        "stageBasedComplexity": {
          "type": "object",
          "required": ["currentStage", "itemsPerScreen", "navigationDepth"],
          "properties": {
            "currentStage": {
              "type": "string",
              "enum": ["preclinical", "mci", "early", "middle", "late"]
            },
            "itemsPerScreen": {
              "type": "integer",
              "minimum": 1,
              "maximum": 20
            },
            "navigationDepth": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "autoSimplification": { "type": "boolean" }
          }
        },
        "visualDesign": {
          "type": "object",
          "properties": {
            "useRealPhotos": { "type": "boolean" },
            "useFamiliarFaces": { "type": "boolean" },
            "highContrast": { "type": "boolean" },
            "largeButtons": { "type": "boolean" },
            "minimalAnimation": { "type": "boolean" },
            "clearLabels": { "type": "boolean" }
          }
        },
        "reminiscenceElements": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "includeLifePhotos": { "type": "boolean" },
            "includeEraMusic": { "type": "boolean" },
            "includeMemoryPrompts": { "type": "boolean" }
          }
        },
        "temporalSupport": {
          "type": "object",
          "properties": {
            "showDateTime": { "type": "boolean" },
            "showDayPhase": { "type": "boolean" },
            "orientationPrompts": { "type": "boolean" }
          }
        },
        "repetitionSupport": {
          "type": "object",
          "properties": {
            "allowRepeating": { "type": "boolean" },
            "confirmationRequired": { "type": "boolean" },
            "undoAvailable": { "type": "boolean" },
            "recentChoicesVisible": { "type": "boolean" }
          }
        },
        "caregiverIntegration": {
          "type": "object",
          "properties": {
            "quickAlerts": { "type": "boolean" },
            "needsButtons": {
              "type": "array",
              "items": { "type": "string" }
            },
            "caregiverDashboard": { "type": "boolean" }
          }
        },
        "routineSupport": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "mealTimePrompts": { "type": "boolean" },
            "medicationReminders": { "type": "boolean" },
            "activitySuggestions": { "type": "boolean" }
          }
        }
      }
    }
  }
}
