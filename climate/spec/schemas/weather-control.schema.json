{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/climate/data/v1/weather-control.schema.json",
  "title": "WIA Climate - Weather Control Data",
  "description": "Schema for weather modification and cloud seeding data",
  "definitions": {
    "weatherControlData": {
      "type": "object",
      "required": ["operation_type", "atmospheric_conditions"],
      "properties": {
        "operation_type": {
          "type": "string",
          "enum": ["cloud_seeding", "fog_dispersal", "hail_suppression", "rain_enhancement"],
          "description": "Weather modification operation type"
        },
        "seeding_agent": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["silver_iodide", "potassium_iodide", "dry_ice", "liquid_propane", "salt", "calcium_chloride"],
              "description": "Seeding agent type"
            },
            "mass_grams": {
              "type": "number",
              "minimum": 0,
              "description": "Agent mass deployed in grams"
            },
            "concentration_g_per_m3": {
              "type": "number",
              "minimum": 0,
              "description": "Agent concentration in g/m³"
            }
          },
          "additionalProperties": true
        },
        "delivery_method": {
          "type": "string",
          "enum": ["aircraft", "ground_generator", "rocket", "drone", "artillery"],
          "description": "Agent delivery method"
        },
        "target_cloud": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["cumulus", "cumulonimbus", "stratus", "stratocumulus", "cirrus", "orographic"],
              "description": "Target cloud type"
            },
            "base_altitude_m": {
              "type": "number",
              "minimum": 0,
              "description": "Cloud base altitude in meters"
            },
            "top_altitude_m": {
              "type": "number",
              "minimum": 0,
              "description": "Cloud top altitude in meters"
            },
            "coverage_km2": {
              "type": "number",
              "minimum": 0,
              "description": "Cloud coverage area in km²"
            }
          },
          "additionalProperties": true
        },
        "atmospheric_conditions": {
          "type": "object",
          "required": ["temperature_celsius", "humidity_percentage"],
          "properties": {
            "temperature_celsius": {
              "type": "number",
              "description": "Air temperature in Celsius"
            },
            "humidity_percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Relative humidity percentage"
            },
            "wind_speed_m_per_s": {
              "type": "number",
              "minimum": 0,
              "description": "Wind speed in m/s"
            },
            "wind_direction_deg": {
              "type": "number",
              "minimum": 0,
              "maximum": 360,
              "description": "Wind direction in degrees"
            },
            "pressure_hpa": {
              "type": "number",
              "minimum": 0,
              "description": "Atmospheric pressure in hPa"
            }
          },
          "additionalProperties": true
        },
        "result": {
          "type": "object",
          "properties": {
            "precipitation_mm": {
              "type": "number",
              "minimum": 0,
              "description": "Resulting precipitation in mm"
            },
            "duration_hours": {
              "type": "number",
              "minimum": 0,
              "description": "Precipitation duration in hours"
            },
            "effectiveness_percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Estimated effectiveness (precipitation increase)"
            },
            "baseline_precipitation_mm": {
              "type": "number",
              "minimum": 0,
              "description": "Expected precipitation without intervention"
            }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    }
  }
}
