{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://wia.live/schemas/smarthome/accessibility-requirements.schema.json",
  "title": "WIA Smart Home Accessibility Requirements",
  "description": "Accessibility requirements and assistive technology configurations",
  "type": "object",
  "properties": {
    "primary_disabilities": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/DisabilityType"
      },
      "description": "Primary disability types"
    },
    "severity_levels": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/$defs/SeverityLevel"
      },
      "description": "Severity level per disability category"
    },
    "assistive_technologies": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/AssistiveTechnology"
      },
      "description": "Assistive technologies in use"
    },
    "required_modalities": {
      "type": "object",
      "properties": {
        "input": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/InputModality"
          },
          "minItems": 1
        },
        "output": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/OutputModality"
          },
          "minItems": 1
        }
      },
      "required": ["input", "output"]
    },
    "wcag_level": {
      "type": "string",
      "enum": ["A", "AA", "AAA"],
      "default": "AA",
      "description": "Target WCAG conformance level"
    },
    "specific_needs": {
      "type": "object",
      "properties": {
        "visual": {
          "type": "object",
          "properties": {
            "screen_reader_required": { "type": "boolean" },
            "magnification_required": { "type": "boolean" },
            "high_contrast_required": { "type": "boolean" },
            "audio_descriptions_required": { "type": "boolean" }
          }
        },
        "auditory": {
          "type": "object",
          "properties": {
            "visual_alerts_required": { "type": "boolean" },
            "captions_required": { "type": "boolean" },
            "sign_language_preferred": { "type": "boolean" },
            "hearing_aid_compatible": { "type": "boolean" }
          }
        },
        "motor": {
          "type": "object",
          "properties": {
            "voice_control_required": { "type": "boolean" },
            "switch_access_required": { "type": "boolean" },
            "dwell_selection_required": { "type": "boolean" },
            "large_targets_required": { "type": "boolean" },
            "reduced_motion_required": { "type": "boolean" }
          }
        },
        "cognitive": {
          "type": "object",
          "properties": {
            "simplified_interface_required": { "type": "boolean" },
            "consistent_navigation_required": { "type": "boolean" },
            "error_prevention_required": { "type": "boolean" },
            "reading_assistance_required": { "type": "boolean" }
          }
        }
      }
    }
  },
  "$defs": {
    "DisabilityType": {
      "type": "string",
      "enum": [
        "visual_blind",
        "visual_low_vision",
        "visual_color_blind",
        "hearing_deaf",
        "hearing_hard",
        "motor_limited",
        "motor_tremor",
        "motor_paralysis",
        "cognitive_learning",
        "cognitive_memory",
        "cognitive_attention",
        "speech",
        "multiple"
      ]
    },
    "SeverityLevel": {
      "type": "string",
      "enum": ["mild", "moderate", "severe", "profound"]
    },
    "AssistiveTechnology": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "screen_reader",
            "magnifier",
            "braille_display",
            "hearing_aid",
            "cochlear_implant",
            "switch_device",
            "eye_tracker",
            "head_tracker",
            "sip_puff_device",
            "bci_device",
            "voice_amplifier"
          ]
        },
        "name": {
          "type": "string",
          "description": "Product name (e.g., VoiceOver, JAWS)"
        },
        "platform": {
          "type": "string",
          "enum": ["ios", "android", "windows", "macos", "linux", "universal"]
        },
        "version": {
          "type": "string"
        },
        "configuration": {
          "type": "object",
          "additionalProperties": true
        }
      }
    },
    "InputModality": {
      "type": "string",
      "enum": [
        "voice",
        "touch",
        "switch",
        "gaze",
        "gesture",
        "bci",
        "sip_puff",
        "keyboard",
        "remote"
      ]
    },
    "OutputModality": {
      "type": "string",
      "enum": [
        "visual_screen",
        "visual_led",
        "audio_tts",
        "audio_tone",
        "haptic",
        "braille"
      ]
    }
  }
}
