# WIA Smart Wheelchair Navigation Parameters

slam_manager:
  ros__parameters:
    algorithm: "gmapping"
    map_resolution: 0.05
    map_update_interval: 1.0
    map_save_path: "/tmp/wia_wheelchair_maps"

global_planner:
  ros__parameters:
    algorithm: "astar"
    inflation_radius: 0.55
    robot_radius: 0.35
    cost_scaling_factor: 3.0
    allow_unknown: false
    diagonal_movement: true

local_planner:
  ros__parameters:
    # Velocity limits (wheelchair-specific)
    max_vel_x: 1.0              # m/s - max forward speed
    min_vel_x: 0.0              # m/s - no reverse
    max_vel_theta: 0.8          # rad/s - max rotation speed

    # Acceleration limits
    acc_lim_x: 0.5              # m/s^2
    acc_lim_theta: 1.0          # rad/s^2

    # Simulation parameters
    sim_time: 1.5               # seconds
    sim_granularity: 0.1        # seconds
    vx_samples: 20
    vtheta_samples: 20

    # Goal tolerance
    xy_goal_tolerance: 0.15     # meters
    yaw_goal_tolerance: 0.1     # radians

    # Safety
    min_obstacle_dist: 0.3      # meters
    robot_radius: 0.35          # meters

    # Control rate
    control_rate: 20.0          # Hz

goal_manager:
  ros__parameters:
    locations_file: ""          # Path to saved locations YAML
    default_speed: 0.5          # m/s
    status_rate: 5.0            # Hz

# Recovery behaviors
recovery:
  ros__parameters:
    # Spin recovery
    spin_dist: 1.57             # radians (90 degrees)
    spin_speed: 0.4             # rad/s

    # Backup recovery
    backup_dist: 0.3            # meters
    backup_speed: 0.1           # m/s

    # Wait recovery
    wait_time: 5.0              # seconds

    # Recovery sequence
    recovery_behaviors: ["spin", "backup", "wait"]
    max_recovery_attempts: 3

# Indoor navigation features
indoor_nav:
  ros__parameters:
    # Narrow passage detection
    narrow_passage_threshold: 0.8   # meters
    narrow_passage_speed: 0.3       # m/s
    narrow_inflation_reduction: 0.1 # meters

    # Ramp handling
    max_safe_ramp_angle: 8.0        # degrees
    ramp_warning_angle: 6.0         # degrees
    ramp_speed_reduction: 0.5       # factor

    # Door handling
    door_approach_dist: 1.0         # meters
    door_wait_timeout: 10.0         # seconds
