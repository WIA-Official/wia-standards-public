{
  "$schema": "../schemas/rehab-program.schema.json",
  "programId": "wia-exo-stroke-intermediate-v1.0",
  "version": "1.0.0",
  "metadata": {
    "name": "Stroke Intermediate Gait Training Program",
    "nameKorean": "뇌졸중 중급 보행훈련 프로그램",
    "description": "An 8-week intensive gait training program for stroke survivors with established walking ability. Focuses on improving gait symmetry, speed, and endurance for community ambulation.",
    "targetCondition": "STROKE",
    "difficulty": "intermediate",
    "totalWeeks": 8,
    "sessionsPerWeek": 4,
    "sessionDuration": 45,
    "createdBy": "WIA Clinical Team",
    "createdAt": "2025-12-14T00:00:00Z",
    "evidenceLevel": "level_1",
    "references": [
      "Molteni F, et al. Am J Phys Med Rehabil. 2017;96(10 Suppl 1):S232-S245.",
      "Louie DR, et al. J NeuroEngineering Rehabil. 2016;13(1):76.",
      "Esquenazi A, et al. PM R. 2012;4(9):674-685."
    ]
  },
  "targetProfile": {
    "condition": "STROKE",
    "severityRange": ["mild", "moderate"],
    "physical": {
      "ageRange": [30, 80],
      "heightRange": [150, 190],
      "weightRange": [45, 100],
      "bmiRange": [18.5, 35]
    },
    "functional": {
      "minStandingBalance": 30,
      "minTrunkControl": "fair",
      "minUpperExtremityFunction": false,
      "minCognitive": "follows_complex"
    },
    "prerequisites": [
      "Able to walk 10 meters with or without assistive device",
      "Functional Ambulation Category (FAC) >= 3",
      "No severe cardiac conditions",
      "Medically stable post-stroke (> 3 months)",
      "No severe neglect or spatial-perceptual deficits"
    ]
  },
  "phases": [
    {
      "phaseId": "phase-1-symmetry",
      "name": "Symmetry Training",
      "nameKorean": "대칭성 훈련기",
      "description": "Focus on improving left-right symmetry in weight distribution and step length",
      "weekStart": 1,
      "weekEnd": 2,
      "goals": [
        {
          "goalId": "goal-1-1",
          "description": "Achieve 45:55 weight distribution during standing",
          "descriptionKorean": "기립 시 45:55 체중 분배 달성",
          "targetMetric": "GAIT_SYMMETRY",
          "targetValue": 0.82,
          "unit": "ratio",
          "priority": "primary"
        },
        {
          "goalId": "goal-1-2",
          "description": "Reduce step length asymmetry to < 20%",
          "descriptionKorean": "활보장 비대칭 20% 미만으로 감소",
          "targetMetric": "GAIT_SYMMETRY",
          "targetValue": 0.8,
          "unit": "ratio",
          "priority": "primary"
        }
      ],
      "parameters": {
        "assistanceRange": [30, 60],
        "maxWalkingSpeed": 0.6,
        "maxContinuousWalking": 15,
        "minRestBetweenActivities": 45,
        "weeklyAssistanceReduction": 5,
        "adaptiveAdjustment": true
      },
      "entryCriteria": [
        {
          "metric": "WALKING_SPEED",
          "value": 0.3,
          "comparison": "greater_than"
        }
      ],
      "exitCriteria": [
        {
          "metric": "GAIT_SYMMETRY",
          "value": 0.75,
          "comparison": "greater_than"
        }
      ],
      "sessions": [
        {
          "sessionId": "symmetry-session-1",
          "sessionNumber": 1,
          "title": "Symmetry Assessment and Training",
          "titleKorean": "대칭성 평가 및 훈련",
          "description": "Initial assessment of gait asymmetry followed by targeted symmetry training",
          "totalDuration": 45,
          "warmUp": {
            "duration": 8,
            "activities": [
              {
                "type": "active_assisted_rom",
                "duration": 4,
                "description": "Active-assisted ROM for affected side"
              },
              {
                "type": "weight_shifting",
                "duration": 4,
                "description": "Lateral weight shifting with visual feedback"
              }
            ]
          },
          "mainActivities": [
            {
              "activityId": "weight-shift-1",
              "type": "WEIGHT_SHIFTING",
              "duration": 8,
              "order": 1,
              "assistanceLevel": 40,
              "assistanceMode": "ACTIVE_ASSIST",
              "parameters": {
                "standing": {
                  "targetDuration": 480,
                  "weightDistribution": [45, 55],
                  "armSupport": "light"
                }
              },
              "targetMetrics": {
                "primary": [
                  {
                    "metric": "GAIT_SYMMETRY",
                    "target": 0.82,
                    "unit": "ratio",
                    "tolerance": 10
                  }
                ],
                "secondary": [],
                "safetyLimits": []
              },
              "instructions": [
                {
                  "step": 1,
                  "type": "EXECUTION",
                  "content": "Shift weight toward affected side until target reached",
                  "contentKorean": "환측으로 목표까지 체중 이동",
                  "verbal": "Push through your affected leg",
                  "visual": "Watch the weight distribution display",
                  "timing": "during"
                }
              ],
              "modifications": []
            },
            {
              "activityId": "treadmill-symmetry-1",
              "type": "TREADMILL_WALKING",
              "duration": 15,
              "order": 2,
              "assistanceLevel": 50,
              "assistanceMode": "ACTIVE_ASSIST",
              "parameters": {
                "walking": {
                  "speed": 0.4,
                  "stepLength": 0.4,
                  "cadence": 60,
                  "supportSurface": "TREADMILL"
                }
              },
              "targetMetrics": {
                "primary": [
                  {
                    "metric": "GAIT_SYMMETRY",
                    "target": 0.75,
                    "unit": "ratio",
                    "tolerance": 15
                  }
                ],
                "secondary": [
                  {
                    "metric": "WALKING_SPEED",
                    "target": 0.4,
                    "unit": "m/s"
                  }
                ],
                "safetyLimits": [
                  {
                    "metric": "HEART_RATE",
                    "maxValue": 130,
                    "unit": "bpm"
                  }
                ]
              },
              "instructions": [
                {
                  "step": 1,
                  "type": "EXECUTION",
                  "content": "Focus on equal step lengths bilaterally",
                  "contentKorean": "양측 동일한 활보장 유지에 집중",
                  "verbal": "Match your step lengths, same size steps",
                  "visual": "Step symmetry indicator on display",
                  "timing": "during"
                },
                {
                  "step": 2,
                  "type": "FEEDBACK",
                  "content": "Audio cue for symmetry deviation",
                  "contentKorean": "비대칭 발생 시 청각 피드백",
                  "timing": "during"
                }
              ],
              "modifications": [
                {
                  "modificationId": "mod-sym-1",
                  "condition": {
                    "trigger": "GAIT_DEVIATION",
                    "threshold": 30,
                    "comparison": "greater_than"
                  },
                  "action": {
                    "type": "INCREASE_ASSISTANCE",
                    "parameter": "assistanceLevel",
                    "adjustment": 10
                  },
                  "description": "Increase assistance if symmetry degrades significantly",
                  "descriptionKorean": "대칭성 저하 시 보조 증가"
                }
              ]
            },
            {
              "activityId": "balance-1",
              "type": "BALANCE_TRAINING",
              "duration": 8,
              "order": 3,
              "assistanceLevel": 30,
              "assistanceMode": "TRANSPARENT",
              "parameters": {
                "balance": {
                  "baseOfSupport": "normal",
                  "surface": "stable",
                  "eyesOpen": true,
                  "dualTask": false
                }
              },
              "targetMetrics": {
                "primary": [
                  {
                    "metric": "BALANCE_SCORE",
                    "target": 75,
                    "unit": "score",
                    "tolerance": 10
                  }
                ],
                "secondary": [],
                "safetyLimits": []
              },
              "instructions": [],
              "modifications": []
            }
          ],
          "coolDown": {
            "duration": 6,
            "activities": [
              {
                "type": "stretching",
                "duration": 4,
                "description": "Gentle stretching of affected side"
              },
              {
                "type": "relaxation",
                "duration": 2,
                "description": "Relaxation and deep breathing"
              }
            ]
          },
          "restPeriods": [
            {
              "afterActivity": 1,
              "duration": 120,
              "type": "standing",
              "hydration": true
            }
          ],
          "therapistNotes": "Use visual biofeedback for weight distribution. Progress to more challenging weight shifts as symmetry improves.",
          "expectedOutcomes": [
            {
              "metric": "GAIT_SYMMETRY",
              "expectedValue": 0.7,
              "unit": "ratio",
              "week": 1
            }
          ]
        }
      ]
    },
    {
      "phaseId": "phase-2-speed",
      "name": "Speed Training",
      "nameKorean": "속도 훈련기",
      "description": "Progressive increase in walking speed while maintaining quality",
      "weekStart": 3,
      "weekEnd": 5,
      "goals": [
        {
          "goalId": "goal-2-1",
          "description": "Achieve self-selected walking speed of 0.6 m/s",
          "descriptionKorean": "자가 선택 보행 속도 0.6m/s 달성",
          "targetMetric": "WALKING_SPEED",
          "targetValue": 0.6,
          "unit": "m/s",
          "priority": "primary"
        },
        {
          "goalId": "goal-2-2",
          "description": "Achieve fast walking speed of 0.8 m/s",
          "descriptionKorean": "빠른 보행 속도 0.8m/s 달성",
          "targetMetric": "WALKING_SPEED",
          "targetValue": 0.8,
          "unit": "m/s",
          "priority": "secondary"
        },
        {
          "goalId": "goal-2-3",
          "description": "Maintain symmetry ratio > 0.8",
          "descriptionKorean": "대칭성 비율 0.8 이상 유지",
          "targetMetric": "GAIT_SYMMETRY",
          "targetValue": 0.8,
          "unit": "ratio",
          "priority": "primary"
        }
      ],
      "parameters": {
        "assistanceRange": [15, 45],
        "maxWalkingSpeed": 0.9,
        "maxContinuousWalking": 20,
        "minRestBetweenActivities": 30,
        "weeklyAssistanceReduction": 5,
        "adaptiveAdjustment": true
      },
      "entryCriteria": [
        {
          "metric": "GAIT_SYMMETRY",
          "value": 0.7,
          "comparison": "greater_than"
        }
      ],
      "exitCriteria": [
        {
          "metric": "WALKING_SPEED",
          "value": 0.5,
          "comparison": "greater_than"
        }
      ],
      "sessions": []
    },
    {
      "phaseId": "phase-3-endurance",
      "name": "Endurance and Community Ambulation",
      "nameKorean": "지구력 및 지역사회 보행기",
      "description": "Build walking endurance and practice community-relevant tasks",
      "weekStart": 6,
      "weekEnd": 8,
      "goals": [
        {
          "goalId": "goal-3-1",
          "description": "Achieve 6-minute walk distance of 200m",
          "descriptionKorean": "6분 보행 거리 200m 달성",
          "targetMetric": "WALKING_DISTANCE",
          "targetValue": 200,
          "unit": "meters",
          "priority": "primary"
        },
        {
          "goalId": "goal-3-2",
          "description": "Complete outdoor walking course",
          "descriptionKorean": "실외 보행 코스 완료",
          "targetMetric": "TASK_COMPLETION_RATE",
          "targetValue": 100,
          "unit": "percent",
          "priority": "secondary"
        },
        {
          "goalId": "goal-3-3",
          "description": "Reduce assistance to < 20%",
          "descriptionKorean": "보조 수준 20% 미만으로 감소",
          "targetMetric": "ASSISTANCE_LEVEL",
          "targetValue": 20,
          "unit": "percent",
          "priority": "primary"
        }
      ],
      "parameters": {
        "assistanceRange": [0, 30],
        "maxWalkingSpeed": 1.0,
        "maxContinuousWalking": 30,
        "minRestBetweenActivities": 30,
        "weeklyAssistanceReduction": 5,
        "adaptiveAdjustment": true
      },
      "entryCriteria": [
        {
          "metric": "WALKING_SPEED",
          "value": 0.5,
          "comparison": "greater_than"
        }
      ],
      "exitCriteria": [
        {
          "metric": "WALKING_DISTANCE",
          "value": 180,
          "comparison": "greater_than"
        }
      ],
      "sessions": []
    }
  ],
  "progressionCriteria": {
    "automatic": {
      "criteria": [
        {
          "criterionId": "crit-1",
          "name": "Walking Speed",
          "nameKorean": "보행 속도",
          "metric": "WALKING_SPEED",
          "target": 0.5,
          "unit": "m/s",
          "comparison": "greater_than",
          "weight": 0.35,
          "required": true
        },
        {
          "criterionId": "crit-2",
          "name": "Gait Symmetry",
          "nameKorean": "보행 대칭성",
          "metric": "GAIT_SYMMETRY",
          "target": 0.75,
          "unit": "ratio",
          "comparison": "greater_than",
          "weight": 0.35,
          "required": true
        },
        {
          "criterionId": "crit-3",
          "name": "Session Completion",
          "nameKorean": "세션 완료율",
          "metric": "TASK_COMPLETION_RATE",
          "target": 85,
          "unit": "percent",
          "comparison": "greater_than",
          "weight": 0.3,
          "required": false
        }
      ],
      "requiredCriteriaCount": 2,
      "minSessionsInPhase": 6,
      "consistencyRequirement": {
        "consecutiveSessions": 3,
        "percentageOfSessions": 75
      }
    },
    "manual": {
      "assessmentRequired": true,
      "assessmentTypes": ["clinical_observation", "standardized_test"],
      "supervisorApproval": false,
      "documentationRequired": ["10m_walk_test", "symmetry_analysis"]
    },
    "regression": {
      "triggers": [
        {
          "metric": "GAIT_SYMMETRY",
          "threshold": 0.6,
          "consecutiveSessions": 3
        },
        {
          "metric": "FATIGUE_LEVEL",
          "threshold": 8,
          "consecutiveSessions": 2
        }
      ],
      "actions": {
        "reducePhase": true,
        "reduceWithinPhase": true,
        "alertTherapist": true,
        "requireReassessment": false
      }
    }
  },
  "contraindications": [
    {
      "contraindicationId": "contra-1",
      "type": "UNSTABLE_CARDIAC",
      "name": "Unstable Cardiac Condition",
      "nameKorean": "불안정 심장 상태",
      "description": "Unstable angina, uncontrolled arrhythmia, or recent cardiac event",
      "severity": "absolute",
      "affectedActivities": "all",
      "requiredActions": [
        {
          "action": "stop",
          "description": "Do not proceed with training",
          "urgency": "immediate"
        },
        {
          "action": "consult",
          "description": "Obtain cardiology clearance before resuming",
          "urgency": "before_next_session"
        }
      ],
      "medicalReviewRequired": true
    },
    {
      "contraindicationId": "contra-2",
      "type": "SEVERE_HYPERTENSION",
      "name": "Uncontrolled Hypertension",
      "nameKorean": "조절되지 않는 고혈압",
      "description": "Resting blood pressure > 180/100 mmHg",
      "severity": "absolute",
      "affectedActivities": "all",
      "requiredActions": [
        {
          "action": "stop",
          "description": "Do not start session",
          "urgency": "immediate"
        },
        {
          "action": "monitor",
          "description": "Recheck BP in 15 minutes",
          "urgency": "within_session"
        }
      ],
      "medicalReviewRequired": true
    },
    {
      "contraindicationId": "contra-3",
      "type": "SEVERE_SPASTICITY",
      "name": "Severe Spasticity",
      "nameKorean": "심한 경직",
      "description": "Modified Ashworth Scale >= 3 interfering with movement",
      "severity": "relative",
      "affectedActivities": ["STAIR_CLIMBING", "OBSTACLE_CROSSING"],
      "requiredActions": [
        {
          "action": "modify",
          "description": "Slow down speed, increase assistance",
          "urgency": "within_session"
        }
      ],
      "medicalReviewRequired": false
    }
  ],
  "safetyParameters": {
    "vitalLimits": {
      "heartRateMax": 150,
      "heartRateMin": 50,
      "bloodPressureSystolicMax": 180,
      "bloodPressureDiastolicMax": 100,
      "oxygenSaturationMin": 94
    },
    "fatigueLimits": {
      "maxFatigueLevel": 7,
      "maxBorgScale": 15,
      "mandatoryRestThreshold": 6
    },
    "painLimits": {
      "maxPainLevel": 4,
      "stopThreshold": 6,
      "newPainProtocol": "monitor"
    },
    "environmentalLimits": {
      "maxAmbientTemperature": 28,
      "minAmbientTemperature": 18,
      "maxHumidity": 70
    },
    "sessionLimits": {
      "maxSessionDuration": 60,
      "maxContinuousActivity": 20,
      "minRestBetweenActivities": 30,
      "maxSessionsPerDay": 2
    },
    "supervision": {
      "minTherapistRatio": "1:2",
      "continuousMonitoring": true,
      "remoteMonitoringAllowed": true
    }
  }
}
