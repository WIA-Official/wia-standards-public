{
  "$schema": "../../schemas/rehab-session.schema.json",
  "sessionId": "session-template-v1.0",
  "sessionNumber": 1,
  "title": "Session Template",
  "titleKorean": "세션 템플릿",
  "description": "A template for creating rehabilitation sessions. Customize warm-up, main activities, and cool-down phases according to patient needs and program goals.",
  "totalDuration": 60,
  "warmUp": {
    "duration": 10,
    "activities": [
      {
        "type": "passive_rom",
        "duration": 3,
        "description": "Passive range of motion for hip, knee, and ankle joints",
        "joints": ["hip", "knee", "ankle"],
        "repetitions": 10,
        "instructions": "Perform slow, controlled movements through full available range"
      },
      {
        "type": "active_assisted_rom",
        "duration": 3,
        "description": "Active-assisted movements with therapist guidance",
        "joints": ["hip", "knee"],
        "repetitions": 10,
        "instructions": "Patient initiates movement, therapist assists as needed"
      },
      {
        "type": "stretching",
        "duration": 2,
        "description": "Static stretching of major lower extremity muscle groups",
        "muscles": ["hamstrings", "quadriceps", "gastrocnemius"],
        "holdTime": 30,
        "instructions": "Hold each stretch for 30 seconds, no bouncing"
      },
      {
        "type": "weight_shifting",
        "duration": 2,
        "description": "Gentle weight shifting in standing position",
        "directions": ["lateral", "anterior-posterior"],
        "instructions": "Shift weight slowly side to side and front to back"
      }
    ]
  },
  "mainActivities": [
    {
      "activityId": "activity-1-standing",
      "type": "STANDING",
      "duration": 10,
      "order": 1,
      "description": "Standing tolerance and weight bearing",
      "assistanceLevel": 50,
      "assistanceMode": "ACTIVE_ASSIST",
      "parameters": {
        "standing": {
          "targetDuration": 600,
          "weightDistribution": [50, 50],
          "armSupport": "moderate"
        }
      },
      "targetMetrics": {
        "primary": [
          {
            "metric": "STANDING_TIME",
            "target": 10,
            "unit": "minutes",
            "tolerance": 20
          }
        ],
        "secondary": [
          {
            "metric": "BALANCE_SCORE",
            "target": 70,
            "unit": "score"
          }
        ],
        "safetyLimits": [
          {
            "metric": "HEART_RATE",
            "maxValue": 130,
            "unit": "bpm"
          },
          {
            "metric": "PAIN_LEVEL",
            "maxValue": 4,
            "unit": "scale"
          }
        ]
      },
      "instructions": [
        {
          "step": 1,
          "type": "PREPARATION",
          "content": "Check all safety systems before transitioning to standing",
          "contentKorean": "기립 전환 전 모든 안전 시스템 확인",
          "timing": "before"
        },
        {
          "step": 2,
          "type": "EXECUTION",
          "content": "Maintain upright posture with eyes forward",
          "contentKorean": "눈은 정면, 바른 자세 유지",
          "verbal": "Stand tall, look straight ahead",
          "timing": "during"
        },
        {
          "step": 3,
          "type": "FEEDBACK",
          "content": "Provide feedback on posture and weight distribution",
          "contentKorean": "자세와 체중 분배에 대한 피드백 제공",
          "timing": "during"
        }
      ],
      "modifications": [
        {
          "modificationId": "mod-stand-1",
          "condition": {
            "trigger": "FATIGUE_LEVEL",
            "threshold": 6,
            "comparison": "greater_than"
          },
          "action": {
            "type": "ADD_REST",
            "parameter": "duration",
            "adjustment": 60
          },
          "description": "Add rest break if fatigue exceeds threshold",
          "descriptionKorean": "피로도 초과 시 휴식 추가"
        }
      ]
    },
    {
      "activityId": "activity-2-walking",
      "type": "TREADMILL_WALKING",
      "duration": 20,
      "order": 2,
      "description": "Treadmill walking with body weight support",
      "assistanceLevel": 40,
      "assistanceMode": "ACTIVE_ASSIST",
      "parameters": {
        "walking": {
          "speed": 0.4,
          "stepLength": 0.35,
          "cadence": 60,
          "supportSurface": "TREADMILL"
        }
      },
      "targetMetrics": {
        "primary": [
          {
            "metric": "WALKING_TIME",
            "target": 15,
            "unit": "minutes",
            "tolerance": 20
          },
          {
            "metric": "WALKING_SPEED",
            "target": 0.4,
            "unit": "m/s",
            "tolerance": 15
          }
        ],
        "secondary": [
          {
            "metric": "GAIT_SYMMETRY",
            "target": 0.8,
            "unit": "ratio"
          },
          {
            "metric": "CADENCE",
            "target": 60,
            "unit": "steps/min"
          }
        ],
        "safetyLimits": [
          {
            "metric": "HEART_RATE",
            "maxValue": 140,
            "unit": "bpm"
          },
          {
            "metric": "FATIGUE_LEVEL",
            "maxValue": 7,
            "unit": "scale"
          }
        ]
      },
      "instructions": [
        {
          "step": 1,
          "type": "PREPARATION",
          "content": "Start at slow speed, gradually increase to target",
          "contentKorean": "느린 속도로 시작, 목표까지 점진적 증가",
          "timing": "before"
        },
        {
          "step": 2,
          "type": "EXECUTION",
          "content": "Maintain reciprocal arm swing and heel strike",
          "contentKorean": "교대 팔 스윙과 발뒤꿈치 접촉 유지",
          "verbal": "Swing your arms, heel first",
          "timing": "during"
        },
        {
          "step": 3,
          "type": "ENCOURAGEMENT",
          "content": "Positive reinforcement for good effort",
          "contentKorean": "좋은 노력에 대한 긍정적 피드백",
          "verbal": "You're doing great, keep it up!",
          "timing": "during"
        }
      ],
      "modifications": [
        {
          "modificationId": "mod-walk-1",
          "condition": {
            "trigger": "HEART_RATE",
            "threshold": 130,
            "comparison": "greater_than"
          },
          "action": {
            "type": "REDUCE_INTENSITY",
            "parameter": "speed",
            "adjustment": -0.1
          },
          "description": "Reduce speed if heart rate exceeds threshold",
          "descriptionKorean": "심박수 초과 시 속도 감소"
        },
        {
          "modificationId": "mod-walk-2",
          "condition": {
            "trigger": "GAIT_DEVIATION",
            "threshold": 25,
            "comparison": "greater_than"
          },
          "action": {
            "type": "INCREASE_ASSISTANCE",
            "parameter": "assistanceLevel",
            "adjustment": 10
          },
          "description": "Increase assistance if gait quality degrades",
          "descriptionKorean": "보행 품질 저하 시 보조 증가"
        }
      ]
    },
    {
      "activityId": "activity-3-balance",
      "type": "BALANCE_TRAINING",
      "duration": 10,
      "order": 3,
      "description": "Static and dynamic balance training",
      "assistanceLevel": 30,
      "assistanceMode": "TRANSPARENT",
      "parameters": {
        "balance": {
          "baseOfSupport": "normal",
          "surface": "stable",
          "eyesOpen": true,
          "dualTask": false
        }
      },
      "targetMetrics": {
        "primary": [
          {
            "metric": "BALANCE_SCORE",
            "target": 75,
            "unit": "score",
            "tolerance": 15
          }
        ],
        "secondary": [],
        "safetyLimits": []
      },
      "instructions": [
        {
          "step": 1,
          "type": "EXECUTION",
          "content": "Practice weight shifts in multiple directions",
          "contentKorean": "다방향 체중 이동 연습",
          "timing": "during"
        }
      ],
      "modifications": []
    }
  ],
  "coolDown": {
    "duration": 10,
    "activities": [
      {
        "type": "gentle_movement",
        "duration": 3,
        "description": "Slow walking to gradually reduce heart rate",
        "instructions": "Walk at very slow pace, focus on breathing"
      },
      {
        "type": "stretching",
        "duration": 4,
        "description": "Static stretching of worked muscle groups",
        "muscles": ["hip_flexors", "hamstrings", "quadriceps", "calves"],
        "holdTime": 30,
        "instructions": "Hold each stretch gently, no forcing"
      },
      {
        "type": "breathing",
        "duration": 2,
        "description": "Deep breathing exercises",
        "pattern": "4-4-6",
        "instructions": "Inhale 4 seconds, hold 4 seconds, exhale 6 seconds"
      },
      {
        "type": "relaxation",
        "duration": 1,
        "description": "Final relaxation and review",
        "instructions": "Discuss session performance and goals for next session"
      }
    ]
  },
  "restPeriods": [
    {
      "afterActivity": 0,
      "duration": 60,
      "type": "standing",
      "hydration": true,
      "notes": "Light standing rest, offer water"
    },
    {
      "afterActivity": 1,
      "duration": 120,
      "type": "sitting",
      "hydration": true,
      "notes": "Seated rest, monitor vital signs"
    }
  ],
  "equipmentRequired": [
    "Exoskeleton device",
    "Treadmill with body weight support",
    "Heart rate monitor",
    "Blood pressure cuff",
    "Balance platform (optional)"
  ],
  "therapistNotes": "Monitor vital signs throughout session. Document any deviations from target metrics. Adjust parameters as needed based on patient response. Complete post-session checklist.",
  "expectedOutcomes": [
    {
      "metric": "WALKING_TIME",
      "expectedValue": 15,
      "unit": "minutes",
      "week": 4
    },
    {
      "metric": "WALKING_SPEED",
      "expectedValue": 0.4,
      "unit": "m/s",
      "week": 4
    },
    {
      "metric": "GAIT_SYMMETRY",
      "expectedValue": 0.8,
      "unit": "ratio",
      "week": 4
    }
  ],
  "documentation": {
    "required": [
      "Vital signs (pre, during, post)",
      "Activity completion status",
      "Assistance levels used",
      "Patient-reported outcomes (pain, fatigue, RPE)",
      "Deviations from protocol"
    ],
    "optional": [
      "Video recording",
      "Detailed gait analysis",
      "EMG data"
    ]
  }
}
