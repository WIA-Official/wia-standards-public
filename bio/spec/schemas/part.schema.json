{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/schemas/bio/part.schema.json",
  "title": "WIA Biotech Synthetic Biology Part",
  "description": "Schema for synthetic biology genetic parts",
  "type": "object",
  "required": [
    "part_id",
    "part_info",
    "sequence"
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "format": "uri"
    },
    "part_id": {
      "type": "string",
      "pattern": "^part-[a-zA-Z0-9-]+$",
      "description": "Unique part identifier"
    },
    "part_info": {
      "type": "object",
      "required": ["part_type"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Part name"
        },
        "description": {
          "type": "string",
          "description": "Part description"
        },
        "short_name": {
          "type": "string",
          "description": "Short identifier"
        },
        "part_type": {
          "type": "string",
          "enum": [
            "promoter",
            "rbs",
            "cds",
            "terminator",
            "operator",
            "reporter",
            "origin",
            "resistance",
            "tag",
            "insulator",
            "enhancer",
            "composite"
          ],
          "description": "Part type"
        }
      }
    },
    "registry": {
      "type": "object",
      "properties": {
        "source": {
          "type": "string",
          "enum": [
            "iGEM Registry",
            "SEVA",
            "Addgene",
            "SynBioHub",
            "custom",
            "other"
          ],
          "description": "Registry source"
        },
        "registry_id": {
          "type": "string",
          "description": "Registry part ID (e.g., BBa_J23100)"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Registry URL"
        }
      }
    },
    "sequence": {
      "type": "object",
      "required": ["dna"],
      "properties": {
        "dna": {
          "type": "string",
          "pattern": "^[ATCGatcg]+$",
          "description": "DNA sequence"
        },
        "length_bp": {
          "type": "integer",
          "minimum": 1,
          "description": "Sequence length"
        }
      }
    },
    "assembly": {
      "type": "object",
      "properties": {
        "standard": {
          "type": "string",
          "enum": [
            "biobrick",
            "biobrick_rfc10",
            "golden_gate",
            "gibson",
            "moclo",
            "seva",
            "basic",
            "other"
          ],
          "description": "Assembly standard"
        },
        "prefix": {
          "type": "string",
          "description": "5' assembly prefix sequence"
        },
        "suffix": {
          "type": "string",
          "description": "3' assembly suffix sequence"
        },
        "compatible_standards": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Compatible assembly standards"
        },
        "fusion_sites": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "position": {"type": "string", "enum": ["5prime", "3prime"]},
              "overhang": {"type": "string"}
            }
          },
          "description": "Golden Gate fusion sites"
        }
      }
    },
    "characterization": {
      "type": "object",
      "properties": {
        "organism": {
          "type": "string",
          "description": "Characterized in organism"
        },
        "strain": {
          "type": "string",
          "description": "Bacterial/yeast strain"
        },
        "relative_strength": {
          "type": "number",
          "minimum": 0,
          "description": "Relative expression strength"
        },
        "measurement_method": {
          "type": "string",
          "description": "Characterization method"
        },
        "reference_part": {
          "type": "string",
          "description": "Reference part for comparison"
        }
      }
    },
    "performance": {
      "type": "object",
      "properties": {
        "expression_level": {
          "type": "string",
          "enum": ["very_low", "low", "medium", "high", "very_high"],
          "description": "Expression level"
        },
        "reliability": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Reliability score"
        },
        "tested_conditions": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Tested growth conditions"
        }
      }
    },
    "files": {
      "type": "object",
      "properties": {
        "genbank": {
          "type": "string",
          "description": "GenBank file path"
        },
        "sbol": {
          "type": "string",
          "description": "SBOL file path"
        },
        "fasta": {
          "type": "string",
          "description": "FASTA file path"
        }
      }
    }
  }
}
