{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/space/v1/terraforming.schema.json",
  "title": "Terraforming Data",
  "description": "Schema for planetary terraforming technology data",
  "type": "object",
  "required": ["target_body", "current_conditions", "target_conditions", "timeline"],
  "properties": {
    "target_body": {
      "type": "object",
      "required": ["name", "type", "mass_kg", "radius_m"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Celestial body name"
        },
        "type": {
          "type": "string",
          "enum": ["planet", "moon", "dwarf_planet", "asteroid"],
          "description": "Body type"
        },
        "mass_kg": {
          "type": "number",
          "minimum": 0,
          "description": "Mass in kilograms"
        },
        "radius_m": {
          "type": "number",
          "minimum": 0,
          "description": "Mean radius in meters"
        },
        "surface_gravity_ms2": {
          "type": "number",
          "minimum": 0,
          "description": "Surface gravity in m/sÂ²"
        },
        "escape_velocity_ms": {
          "type": "number",
          "minimum": 0,
          "description": "Escape velocity in m/s"
        }
      }
    },
    "current_conditions": {
      "$ref": "#/definitions/planetary_conditions"
    },
    "target_conditions": {
      "$ref": "#/definitions/planetary_conditions"
    },
    "phases": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/terraforming_phase"
      },
      "description": "Terraforming phases"
    },
    "timeline": {
      "type": "object",
      "required": ["total_duration_years"],
      "properties": {
        "total_duration_years": {
          "type": "number",
          "minimum": 0,
          "description": "Total terraforming duration in years"
        },
        "human_habitable_year": {
          "type": "integer",
          "description": "Year when human habitation becomes possible"
        },
        "earth_like_year": {
          "type": "integer",
          "description": "Year when Earth-like conditions achieved"
        }
      }
    }
  },
  "definitions": {
    "planetary_conditions": {
      "type": "object",
      "required": ["atmosphere"],
      "properties": {
        "atmosphere": {
          "type": "object",
          "required": ["pressure_Pa", "composition", "mean_temperature_K"],
          "properties": {
            "pressure_Pa": {
              "type": "number",
              "minimum": 0,
              "description": "Surface pressure in Pascals"
            },
            "composition": {
              "type": "object",
              "additionalProperties": {
                "type": "number",
                "minimum": 0,
                "maximum": 1
              },
              "description": "Gas composition fractions"
            },
            "mean_temperature_K": {
              "type": "number",
              "minimum": 0,
              "description": "Mean surface temperature in Kelvin"
            }
          }
        },
        "hydrosphere": {
          "type": "object",
          "properties": {
            "water_ice_kg": {
              "type": "number",
              "minimum": 0,
              "description": "Water ice mass in kilograms"
            },
            "liquid_water_kg": {
              "type": "number",
              "minimum": 0,
              "description": "Liquid water mass in kilograms"
            },
            "ocean_coverage_fraction": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Ocean coverage fraction"
            }
          }
        },
        "magnetosphere": {
          "type": "object",
          "properties": {
            "present": {
              "type": "boolean",
              "description": "Whether magnetosphere exists"
            },
            "field_strength_T": {
              "type": "number",
              "minimum": 0,
              "description": "Magnetic field strength in Tesla"
            }
          }
        }
      }
    },
    "terraforming_phase": {
      "type": "object",
      "required": ["name", "duration_years", "method"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Phase name"
        },
        "duration_years": {
          "type": "number",
          "minimum": 0,
          "description": "Phase duration in years"
        },
        "method": {
          "type": "string",
          "description": "Terraforming method"
        },
        "delta_temperature_K": {
          "type": "number",
          "description": "Temperature change in Kelvin"
        },
        "delta_pressure_Pa": {
          "type": "number",
          "description": "Pressure change in Pascals"
        },
        "energy_required_J": {
          "type": "number",
          "minimum": 0,
          "description": "Energy required in Joules"
        },
        "O2_production_rate_kg_year": {
          "type": "number",
          "minimum": 0,
          "description": "Oxygen production rate in kg/year"
        }
      }
    }
  }
}
