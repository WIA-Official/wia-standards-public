{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/space/v1/orbital-habitat.schema.json",
  "title": "Orbital Habitat Data",
  "description": "Schema for orbital habitat technology data",
  "type": "object",
  "required": ["design_type", "location", "geometry", "artificial_gravity", "population"],
  "properties": {
    "design_type": {
      "type": "string",
      "enum": ["oneill_cylinder", "stanford_torus", "bernal_sphere", "other"],
      "description": "Habitat design type"
    },
    "location": {
      "type": "object",
      "required": ["orbit_type"],
      "properties": {
        "orbit_type": {
          "type": "string",
          "enum": ["LEO", "GEO", "L1", "L2", "L4", "L5", "lunar_orbit", "other"],
          "description": "Orbital location"
        },
        "altitude_m": {
          "type": "number",
          "minimum": 0,
          "description": "Orbital altitude in meters"
        },
        "orbital_period_s": {
          "type": "number",
          "minimum": 0,
          "description": "Orbital period in seconds"
        }
      }
    },
    "geometry": {
      "type": "object",
      "required": ["diameter_m", "rotation_rate_rpm"],
      "properties": {
        "length_m": {
          "type": "number",
          "minimum": 0,
          "description": "Length in meters (for cylinders)"
        },
        "diameter_m": {
          "type": "number",
          "minimum": 0,
          "description": "Diameter in meters"
        },
        "total_volume_m3": {
          "type": "number",
          "minimum": 0,
          "description": "Total volume in cubic meters"
        },
        "habitable_surface_m2": {
          "type": "number",
          "minimum": 0,
          "description": "Habitable surface area in square meters"
        },
        "rotation_rate_rpm": {
          "type": "number",
          "minimum": 0,
          "description": "Rotation rate in RPM"
        }
      }
    },
    "artificial_gravity": {
      "type": "object",
      "required": ["rim_acceleration_ms2"],
      "properties": {
        "rim_acceleration_ms2": {
          "type": "number",
          "minimum": 0,
          "description": "Acceleration at rim in m/s²"
        },
        "coriolis_parameter": {
          "type": "number",
          "description": "Coriolis effect parameter"
        },
        "gravity_gradient_percent_per_m": {
          "type": "number",
          "description": "Gravity gradient in %/m"
        }
      }
    },
    "life_support": {
      "type": "object",
      "properties": {
        "atmosphere": {
          "type": "object",
          "properties": {
            "pressure_Pa": {
              "type": "number",
              "minimum": 0,
              "description": "Atmospheric pressure in Pascals"
            },
            "composition": {
              "type": "object",
              "additionalProperties": {
                "type": "number",
                "minimum": 0,
                "maximum": 1
              },
              "description": "Atmospheric composition"
            }
          }
        },
        "water_recycling_efficiency": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Water recycling efficiency"
        },
        "food_production_kg_day": {
          "type": "number",
          "minimum": 0,
          "description": "Daily food production in kg"
        },
        "energy_consumption_MW": {
          "type": "number",
          "minimum": 0,
          "description": "Energy consumption in MW"
        }
      }
    },
    "population": {
      "type": "object",
      "required": ["design_capacity"],
      "properties": {
        "design_capacity": {
          "type": "integer",
          "minimum": 0,
          "description": "Maximum design population"
        },
        "optimal_population": {
          "type": "integer",
          "minimum": 0,
          "description": "Optimal sustainable population"
        },
        "population_density_per_km2": {
          "type": "number",
          "minimum": 0,
          "description": "Population density per km²"
        }
      }
    },
    "construction": {
      "type": "object",
      "properties": {
        "total_mass_kg": {
          "type": "number",
          "minimum": 0,
          "description": "Total mass in kg"
        },
        "material_source": {
          "type": "string",
          "enum": ["earth", "lunar_mining", "asteroid", "mixed"],
          "description": "Source of construction materials"
        },
        "construction_time_years": {
          "type": "number",
          "minimum": 0,
          "description": "Construction time in years"
        },
        "cost_estimate_usd": {
          "type": "number",
          "minimum": 0,
          "description": "Cost estimate in USD"
        }
      }
    }
  }
}
