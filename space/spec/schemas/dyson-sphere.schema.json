{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/schemas/space/dyson-sphere.schema.json",
  "title": "WIA Space Dyson Sphere",
  "description": "Schema for Dyson sphere megastructure specifications",
  "type": "object",
  "required": [
    "technology_id",
    "category",
    "star_parameters",
    "structure_type"
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "format": "uri"
    },
    "technology_id": {
      "type": "string",
      "pattern": "^dyson-[a-zA-Z0-9-]+$"
    },
    "category": {
      "type": "string",
      "const": "dyson_sphere"
    },
    "star_parameters": {
      "type": "object",
      "required": ["name", "type", "luminosity_solar"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Star name (e.g., 'Sol', 'Alpha Centauri A')"
        },
        "type": {
          "type": "string",
          "description": "Stellar classification (e.g., 'G2V', 'M5V')"
        },
        "mass_solar": {
          "type": "number",
          "minimum": 0,
          "description": "Mass in solar masses"
        },
        "luminosity_solar": {
          "type": "number",
          "minimum": 0,
          "description": "Luminosity in solar luminosities"
        },
        "radius_solar": {
          "type": "number",
          "minimum": 0,
          "description": "Radius in solar radii"
        },
        "temperature_kelvin": {
          "type": "number",
          "minimum": 0,
          "description": "Effective temperature in Kelvin"
        },
        "age_years": {
          "type": "number",
          "minimum": 0,
          "description": "Stellar age in years"
        }
      }
    },
    "structure_type": {
      "type": "string",
      "enum": ["dyson_swarm", "dyson_ring", "dyson_bubble", "partial_sphere"],
      "description": "Type of Dyson structure"
    },
    "structure_parameters": {
      "type": "object",
      "properties": {
        "orbital_radius_au": {
          "type": "number",
          "minimum": 0,
          "description": "Orbital radius in AU"
        },
        "total_collectors": {
          "type": "integer",
          "minimum": 1,
          "description": "Number of collector units"
        },
        "collector_area_km2": {
          "type": "number",
          "minimum": 0,
          "description": "Area per collector in km^2"
        },
        "total_collection_area_km2": {
          "type": "number",
          "minimum": 0,
          "description": "Total collection area in km^2"
        },
        "coverage_fraction": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Fraction of sphere covered"
        },
        "material_mass_kg": {
          "type": "number",
          "minimum": 0,
          "description": "Total structure mass in kg"
        },
        "collector_thickness_m": {
          "type": "number",
          "minimum": 0,
          "description": "Thickness of each collector"
        }
      }
    },
    "energy_harvesting": {
      "type": "object",
      "properties": {
        "efficiency_percent": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Energy conversion efficiency"
        },
        "total_power_watts": {
          "type": "number",
          "minimum": 0,
          "description": "Total harvested power in watts"
        },
        "collection_method": {
          "type": "string",
          "enum": ["photovoltaic", "thermal", "photoelectric", "hybrid"],
          "description": "Energy collection method"
        },
        "transmission_method": {
          "type": "string",
          "enum": ["microwave_beam", "laser", "physical_transport", "none"],
          "description": "Energy transmission method"
        },
        "transmission_efficiency_percent": {
          "type": "number",
          "minimum": 0,
          "maximum": 100
        }
      }
    },
    "environmental_impact": {
      "type": "object",
      "properties": {
        "earth_temperature_change_kelvin": {
          "type": "number",
          "description": "Temperature change on Earth in K"
        },
        "habitable_zone_shift": {
          "type": "boolean",
          "description": "Whether habitable zone is affected"
        },
        "affected_planets": {
          "type": "array",
          "items": {"type": "string"}
        }
      }
    },
    "construction": {
      "type": "object",
      "properties": {
        "material_source": {
          "type": "string",
          "enum": ["asteroid_belt", "mercury", "moon", "kuiper_belt", "other"]
        },
        "construction_method": {
          "type": "string",
          "enum": ["self_replicating_robots", "human_directed", "hybrid"]
        },
        "estimated_time_years": {
          "type": "number",
          "minimum": 0
        },
        "required_energy_joules": {
          "type": "number",
          "minimum": 0
        }
      }
    },
    "orbital_mechanics": {
      "type": "object",
      "properties": {
        "stability_period_years": {
          "type": "number"
        },
        "station_keeping_required": {
          "type": "boolean"
        },
        "collision_avoidance": {
          "type": "boolean"
        }
      }
    }
  }
}
