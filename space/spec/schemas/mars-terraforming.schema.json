{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/schemas/space/mars-terraforming.schema.json",
  "title": "WIA Space Mars Terraforming",
  "description": "Schema for Mars terraforming project specifications",
  "type": "object",
  "required": [
    "technology_id",
    "category",
    "target_body",
    "current_conditions"
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "format": "uri"
    },
    "technology_id": {
      "type": "string",
      "pattern": "^terraform-[a-zA-Z0-9-]+$"
    },
    "category": {
      "type": "string",
      "const": "mars_terraforming"
    },
    "target_body": {
      "type": "object",
      "required": ["name", "type"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Target body name"
        },
        "type": {
          "type": "string",
          "enum": ["planet", "moon", "dwarf_planet"]
        },
        "orbital_radius_au": {
          "type": "number",
          "minimum": 0
        }
      }
    },
    "current_conditions": {
      "type": "object",
      "properties": {
        "surface_pressure_mbar": {
          "type": "number",
          "minimum": 0,
          "description": "Surface pressure in millibars"
        },
        "mean_temperature_celsius": {
          "type": "number",
          "description": "Mean surface temperature in Celsius"
        },
        "atmosphere_composition": {
          "type": "object",
          "properties": {
            "CO2_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "N2_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "O2_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "Ar_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "H2O_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "other_percent": {"type": "number", "minimum": 0, "maximum": 100}
          }
        },
        "surface_gravity_g": {
          "type": "number",
          "minimum": 0,
          "description": "Surface gravity in Earth g"
        },
        "magnetic_field_strength_tesla": {
          "type": "number",
          "minimum": 0
        },
        "solar_flux_w_m2": {
          "type": "number",
          "minimum": 0
        }
      }
    },
    "target_conditions": {
      "type": "object",
      "properties": {
        "surface_pressure_mbar": {"type": "number", "minimum": 0},
        "mean_temperature_celsius": {"type": "number"},
        "atmosphere_composition": {
          "type": "object",
          "properties": {
            "N2_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "O2_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "CO2_percent": {"type": "number", "minimum": 0, "maximum": 100},
            "other_percent": {"type": "number", "minimum": 0, "maximum": 100}
          }
        }
      }
    },
    "intervention_methods": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["method"],
        "properties": {
          "method": {
            "type": "string",
            "enum": [
              "solar_mirrors",
              "greenhouse_gas_release",
              "silica_aerogel",
              "asteroid_impact",
              "nuclear_heating",
              "ice_cap_darkening",
              "synthetic_biology"
            ]
          },
          "description": {"type": "string"},
          "temperature_effect_kelvin": {"type": "number"},
          "pressure_effect_mbar": {"type": "number"},
          "implementation_time_years": {"type": "number", "minimum": 0},
          "energy_requirement_joules": {"type": "number", "minimum": 0},
          "resource_requirement_kg": {"type": "number", "minimum": 0}
        }
      }
    },
    "biological_phase": {
      "type": "object",
      "properties": {
        "organisms": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Organisms to introduce"
        },
        "purpose": {
          "type": "string",
          "enum": ["oxygen_production", "nitrogen_fixation", "soil_creation", "food_production"]
        },
        "start_conditions": {
          "type": "object",
          "properties": {
            "min_temperature_celsius": {"type": "number"},
            "max_temperature_celsius": {"type": "number"},
            "min_pressure_mbar": {"type": "number"},
            "min_uv_protection": {"type": "boolean"}
          }
        },
        "genetic_modifications": {
          "type": "array",
          "items": {"type": "string"}
        }
      }
    },
    "infrastructure": {
      "type": "object",
      "properties": {
        "habitation_domes": {
          "type": "integer",
          "minimum": 0
        },
        "factories": {
          "type": "integer",
          "minimum": 0
        },
        "population_capacity": {
          "type": "integer",
          "minimum": 0
        }
      }
    },
    "timeline": {
      "type": "object",
      "properties": {
        "phase_1_warming_years": {"type": "number", "minimum": 0},
        "phase_2_atmosphere_years": {"type": "number", "minimum": 0},
        "phase_3_biosphere_years": {"type": "number", "minimum": 0},
        "total_estimate_years": {"type": "number", "minimum": 0}
      }
    },
    "monitoring": {
      "type": "object",
      "properties": {
        "satellites": {"type": "integer", "minimum": 0},
        "ground_stations": {"type": "integer", "minimum": 0},
        "data_update_frequency_hours": {"type": "number", "minimum": 0}
      }
    }
  }
}
