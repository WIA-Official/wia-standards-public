{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wia.live/aac/signal/v1/breath.schema.json",
  "title": "WIA AAC Breath Sensor Data",
  "description": "Schema for breath (sip-and-puff) sensor data",
  "definitions": {
    "breathData": {
      "type": "object",
      "required": ["action"],
      "properties": {
        "action": {
          "type": "string",
          "enum": ["sip", "hard_sip", "puff", "hard_puff", "neutral"],
          "description": "Detected breath action type"
        },
        "pressure_kpa": {
          "type": "number",
          "description": "Absolute pressure in kilopascals"
        },
        "pressure_normalized": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Normalized pressure level (0.0 to 1.0)"
        },
        "duration_ms": {
          "type": "integer",
          "minimum": 0,
          "description": "Action duration in milliseconds"
        },
        "intensity": {
          "type": "string",
          "enum": ["soft", "medium", "hard"],
          "description": "Intensity level of the action"
        },
        "baseline_kpa": {
          "type": "number",
          "description": "Baseline atmospheric pressure in kilopascals"
        }
      },
      "additionalProperties": true
    }
  },
  "type": "object",
  "$ref": "#/definitions/breathData"
}
