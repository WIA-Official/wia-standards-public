{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://quantum.wia.live/schemas/state.schema.json",
  "title": "WIA Quantum State",
  "description": "Quantum state representation following WIA Quantum standard",
  "type": "object",
  "required": ["wia_quantum_version", "type", "state_type", "num_qubits", "data"],
  "properties": {
    "wia_quantum_version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "type": {
      "type": "string",
      "const": "state"
    },
    "state_type": {
      "type": "string",
      "enum": ["statevector", "density_matrix", "stabilizer"]
    },
    "num_qubits": {
      "type": "integer",
      "minimum": 1
    },
    "data": {
      "type": "object",
      "properties": {
        "format": {
          "type": "string",
          "enum": ["dense", "sparse"]
        },
        "real": {
          "type": "array",
          "items": { "type": "number" },
          "description": "Real part of state vector"
        },
        "imag": {
          "type": "array",
          "items": { "type": "number" },
          "description": "Imaginary part of state vector"
        },
        "matrix": {
          "type": "object",
          "properties": {
            "real": {
              "type": "array",
              "items": {
                "type": "array",
                "items": { "type": "number" }
              }
            },
            "imag": {
              "type": "array",
              "items": {
                "type": "array",
                "items": { "type": "number" }
              }
            }
          },
          "description": "Density matrix (for density_matrix state_type)"
        }
      }
    },
    "basis": {
      "type": "string",
      "enum": ["computational", "pauli", "custom"],
      "default": "computational"
    },
    "normalization": {
      "type": "number",
      "description": "State normalization (should be 1.0 for pure states)"
    },
    "purity": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "State purity (Tr(ρ²))"
    },
    "trace": {
      "type": "number",
      "description": "Trace of density matrix (should be 1.0)"
    }
  }
}
